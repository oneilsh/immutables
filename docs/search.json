[{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":null,"dir":"","previous_headings":"","what":"Refactor Plan (Detailed)","title":"Refactor Plan (Detailed)","text":"plan operationalizes PLAN_HIGH_LEVEL.md naive implementation agent. Primary objective: - Reorganize code around: 1. reference finger-tree implementation R (lambda.r style), 2. optional C++ acceleration path speed-critical operations. Reference basis: - Hinze, R. Paterson, R. (2006), Finger trees: simple general-purpose data structure. https://www.cs.ox.ac.uk/ralf.hinze/publications/FingerTrees.pdf Non-objectives plan: - intentional behavior changes. - broad API redesign. - new data structures.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"hard-constraints","dir":"","previous_headings":"","what":"Hard Constraints","title":"Refactor Plan (Detailed)","text":"Preserve exported API semantics unless explicitly approved user. Keep C++/R backend parity contract intact (tests/testthat/test-cpp-parity.R). Keep reference semantics R source truth. Keep CRAN cleanliness (R CMD check) docs integrity (roxygen2, pkgdown). commit build artifacts (immutables.Rcheck, tarballs).","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"preflight-checklist-must-pass-before-refactor","dir":"","previous_headings":"","what":"Preflight Checklist (must pass before refactor)","title":"Refactor Plan (Detailed)","text":"Confirm current status collect baseline: git status --short R -q -e \"testthat::test_local()\" R -q -e \"roxygen2::roxygenise()\" R CMD build . R CMD check ---manual immutables_*.tar.gz Record baseline outcomes short note commit message PR body. unrelated dirty changes exist, revert ; isolate edits.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"current-source-inventory-as-of-this-plan","dir":"","previous_headings":"","what":"Current Source Inventory (as of this plan)","title":"Refactor Plan (Detailed)","text":"Core/internal mixed today: - R/00-helpers.R - R/constructors.R - R/measured.R - R/monoid_resolution.R - R/view.R - R/split_digit.R - R/split_tree_impl.R - R/locate_impl.R - R/add_left.R - R/add_right.R - R/concat.R - R/cpp_backend.R - R/utils.R User-facing/API-adjacent today: - R/flexseq.R, R/append.R, R/prepend.R - R/fold_left.R, R/fold_right.R - R/split.R, R/split_tree.R, R/locate.R - R/indexing.R, R/dollar.R - R/add_monoids.R, R/validate.R - R/MeasureMonoid.R, R/Predicate.R - R/concat_trees.R, R/tree_from.R, R/empty_tree.R - R/print.FingerTree.R, R/print.priority_queue.R - R/priority_queue.R, R/pq_monoids.R","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"target-file-layout","dir":"","previous_headings":"","what":"Target File Layout","title":"Refactor Plan (Detailed)","text":"Create/rename families:","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"id_00-core-ref-r-reference-lambdar-internals","dir":"","previous_headings":"Target File Layout","what":"00-core-ref-*.R (reference lambda.r internals)","title":"Refactor Plan (Detailed)","text":"R/00-core-ref-helpers.R R/00-core-ref-constructors.R R/00-core-ref-measured.R R/00-core-ref-monoid-resolution.R R/00-core-ref-view.R R/00-core-ref-split-digit.R R/00-core-ref-split-tree-impl.R R/00-core-ref-locate-impl.R R/00-core-ref-add-left.R R/00-core-ref-add-right.R R/00-core-ref-concat.R","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"id_10-core-fast-r-r-pure-r-fast-helpers","dir":"","previous_headings":"Target File Layout","what":"10-core-fast-r-*.R (pure R fast helpers)","title":"Refactor Plan (Detailed)","text":"R/10-core-fast-r-add-left.R R/10-core-fast-r-add-right--measure.R R/10-core-fast-r-concat.R Keep *_fast *_impl plain-R helpers .","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"id_20-backend-cpp-r-c-gateway","dir":"","previous_headings":"Target File Layout","what":"20-backend-cpp-*.R (C++ gateway)","title":"Refactor Plan (Detailed)","text":"R/20-backend-cpp.R (R/cpp_backend.R)","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"id_30-api-flexseq-r-exported-flexseq-api--wrappers","dir":"","previous_headings":"Target File Layout","what":"30-api-flexseq-*.R (exported flexseq API + wrappers)","title":"Refactor Plan (Detailed)","text":"R/30-api-flexseq-core.R (R/flexseq.R) R/30-api-flexseq-measure-monoid.R (R/MeasureMonoid.R) R/30-api-flexseq-predicate.R (R/Predicate.R) R/30-api-flexseq-append.R (R/append.R) R/30-api-flexseq-prepend.R (R/prepend.R) R/30-api-flexseq-fold-left.R (R/fold_left.R) R/30-api-flexseq-fold-right.R (R/fold_right.R) R/30-api-flexseq-split.R (R/split.R) R/30-api-flexseq-split-tree.R (R/split_tree.R) R/30-api-flexseq-locate.R (R/locate.R) R/30-api-flexseq-indexing.R (R/indexing.R) R/30-api-flexseq-dollar.R (R/dollar.R) R/30-api-flexseq-add-monoids.R (R/add_monoids.R) R/30-api-flexseq-print.R (R/print.FingerTree.R) R/30-api-flexseq-validate.R (R/validate.R) R/30-api-flexseq-tree-.R (R/tree_from.R, internal) R/30-api-flexseq-empty-tree.R (R/empty_tree.R, internal) R/30-api-flexseq-concat-trees.R (R/concat_trees.R, internal)","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"id_40-priority_queue-r","dir":"","previous_headings":"Target File Layout","what":"40-priority_queue-*.R","title":"Refactor Plan (Detailed)","text":"R/40-priority_queue-monoids.R (R/pq_monoids.R) R/40-priority_queue-core.R (R/priority_queue.R) R/40-priority_queue-print.R (R/print.priority_queue.R)","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"id_90-devtools-r-internal-only-helpers","dir":"","previous_headings":"Target File Layout","what":"90-devtools-*.R (internal-only helpers)","title":"Refactor Plan (Detailed)","text":"R/90-devtools-utils.R (R/utils.R) Keep -unless necessary: - R/fingertree-package.R","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"migration-mapping-rules","dir":"","previous_headings":"","what":"Migration Mapping Rules","title":"Refactor Plan (Detailed)","text":"Use git mv one--one file renames. split files (add_left.R, add_right.R, concat.R): Move lambda.r/reference definitions 00-core-ref-* files. Move *_fast plain-R helpers corresponding 10-core-fast-r-* files. rename functions unless unavoidable. Keep roxygen blocks attached functions moves. Preserve @keywords internal exported tags unchanged unless explicitly needed.","code":""},{"path":[]},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"phase-1-skeleton-and-architecture-doc","dir":"","previous_headings":"Phase-by-Phase Execution","what":"Phase 1: Skeleton and Architecture Doc","title":"Refactor Plan (Detailed)","text":"Create docs/architecture.md : reference-vs-fast design contract, backend dispatch policy, file-family map, paper citation, extension guide future 40-<structure>-*.R families. Ensure paper citation also appears package-level docs context: verify DESCRIPTION/README still clearly reference Hinze/Paterson. Gate: - R -q -e \"roxygen2::roxygenise()\" (broken docs)","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"phase-2-mechanical-file-reorganization-no-behavior-changes","dir":"","previous_headings":"Phase-by-Phase Execution","what":"Phase 2: Mechanical File Reorganization (No behavior changes)","title":"Refactor Plan (Detailed)","text":"Rename straightforward files git mv. Split mixed files: add_left.R reference + fast-r files. add_right.R reference + fast-r files. concat.R reference + fast-r files. Keep source code bodies unchanged except location minimal comment edits. Gate: - R -q -e \"testthat::test_local()\" - Must remain FAIL 0.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"phase-3-backend-boundary-clarification","dir":"","previous_headings":"Phase-by-Phase Execution","what":"Phase 3: Backend Boundary Clarification","title":"Refactor Plan (Detailed)","text":"Verify every accelerated wrapper R/20-backend-cpp.R clear fallback R path. Confirm dispatch sites exported wrappers remain explicit consistent: append/prepend/split/split_tree/locate/tree_from/concat_trees/indexing helpers. force C++ paths currently intentionally used. Gate: - R -q -e \"testthat::test_local()\" - R CMD check ---manual immutables_*.tar.gz","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"phase-4-test-organization-and-parity-hardening","dir":"","previous_headings":"Phase-by-Phase Execution","what":"Phase 4: Test Organization and Parity Hardening","title":"Refactor Plan (Detailed)","text":"Keep existing tests functional; optional file renames clarity allowed behavior unchanged. Ensure parity tests still cover accelerated operations: append/prepend/tree_from/concat/split_tree/split/locate/indexing/name lookup/get--index. Add small parity coverage assertion test missing: static check known .ft_cpp_* operations represented parity scenarios. API shape changed, update tests docs commit. Gate: - R -q -e \"testthat::test_local()\" parity green.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"phase-5-documentation-and-site-sync","dir":"","previous_headings":"Phase-by-Phase Execution","what":"Phase 5: Documentation and Site Sync","title":"Refactor Plan (Detailed)","text":"Run roxygen2::roxygenise(). Rebuild pkgdown site (pkgdown::build_site()) ensure reference index remains valid. Confirm docs still present user-facing flexseq methods (stale pages). Gate: - R -q -e \"roxygen2::roxygenise()\" - R -q -e \"pkgdown::build_site()\"","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"phase-6-cran-focused-final-validation","dir":"","previous_headings":"Phase-by-Phase Execution","what":"Phase 6: CRAN-Focused Final Validation","title":"Refactor Plan (Detailed)","text":"Full local checks: R -q -e \"testthat::test_local()\" R CMD build . R CMD check ---manual immutables_*.tar.gz LaTeX available, run full manual check : R CMD check immutables_*.tar.gz Ensure accidental artifacts staged: remove immutables.Rcheck/ tarballs final commit policy requires.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"expected-api-status-after-refactor","dir":"","previous_headings":"","what":"Expected API Status After Refactor","title":"Refactor Plan (Detailed)","text":"Exported set remain unchanged (NAMESPACE): - add_monoids, append, as_flexseq, as_priority_queue, extract_max, extract_min, flexseq, fold_left, fold_right, insert, is_empty, locate, measure_monoid, peek_max, peek_min, predicate, prepend, priority_queue, split_tree, validate_name_state, validate_tree - plus S3 methods flexseq, append.default, append.flexseq, split.flexseq. set changes unintentionally, stop fix proceeding.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"cran-safety-checklist","dir":"","previous_headings":"","what":"CRAN Safety Checklist","title":"Refactor Plan (Detailed)","text":"non-standard files accidentally included tarball. Examples remain runnable concise. Internal-helpers remain @keywords internal appropriate. undocumented exports. NAMESPACE man/ regenerated roxygen, manually edited. platform-specific behavior introduced tests/examples.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"commit-strategy-recommended","dir":"","previous_headings":"","what":"Commit Strategy (Recommended)","title":"Refactor Plan (Detailed)","text":"Commit : add architecture doc + -op prep. Commit B: mechanical file renames/moves . Commit C: split mixed files 00/10 families. Commit D: backend boundary clarifications + tests. Commit E: docs/site/check cleanup. makes review rollback safe.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_DETAILED.html","id":"completion-definition","dir":"","previous_headings":"","what":"Completion Definition","title":"Refactor Plan (Detailed)","text":"true: 1. File layout follows 00/10/20/30/40/90 model. 2. Reference lambda.r core clearly separated fast-R C++ layers. 3. Priority queue code isolated 40-priority_queue-*.R. 4. Tests parity pass. 5. R CMD check passes (user-approved environmental caveats). 6. Paper citation present visible architecture/package documentation.","code":""},{"path":[]},{"path":"https://oneilsh.github.io/immutables/PLAN_HIGH_LEVEL.html","id":"goal","dir":"","previous_headings":"","what":"Goal","title":"Refactor Plan (High-Level)","text":"Reorganize package around clear two-track implementation model: 1. Reference implementation R using lambda.r syntax core finger-tree semantics. 2. Fast implementation using C++ performance-critical operations benefit. exported user API remain stable unless change explicitly required. Reference basis: - Hinze, R. Paterson, R. (2006), Finger trees: simple general-purpose data structure. https://www.cs.ox.ac.uk/ralf.hinze/publications/FingerTrees.pdf","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_HIGH_LEVEL.html","id":"design-principles","dir":"","previous_headings":"","what":"Design Principles","title":"Refactor Plan (High-Level)","text":"Reference semantics authoritative: R/lambda.r behavior defines correctness. C++ optional acceleration layer, never semantic fork. every helper used fast paths must re-implemented C++. Keep backend parity testing core contract. Keep structure easy extend future data structures. Keep work CRAN-safe (checks, examples, docs, namespace hygiene).","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_HIGH_LEVEL.html","id":"target-code-organization","dir":"","previous_headings":"","what":"Target Code Organization","title":"Refactor Plan (High-Level)","text":"Use file families R/ layer responsibility: - 00-core-ref-*.R: reference finger-tree internals (lambda.r style). - 10-core-fast-r-*.R: pure-R fast helpers (*_fast, non-lambda appropriate). - 20-backend-cpp-*.R: .Call wrappers, backend gating, C++ integration. - 30-api-flexseq-*.R: exported flexseq-facing API wrappers. - 40-priority_queue-*.R: priority queue user-facing layer. - 90-devtools-*.R: internal validation/plot/debug/developer-helpers. leaves room future families like 40-<new_structure>-*.R without mixing concerns.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_HIGH_LEVEL.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Refactor Plan (High-Level)","text":"scope: - Reorganize files/functions target layering. - Clarify backend dispatch boundaries. - Preserve semantics public API possible. - Update tests/docs match organization necessary API adjustments. scope phase: - Large semantic redesigns. - New user-facing structures. - Broad algorithmic changes unrelated organization.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_HIGH_LEVEL.html","id":"high-level-phases","dir":"","previous_headings":"","what":"High-Level Phases","title":"Refactor Plan (High-Level)","text":"Baseline guardrails Snapshot current behavior full tests parity tests. Record current check status (R CMD check). Architecture skeleton Create/confirm naming conventions file-family boundaries. Add brief architecture note contributors. Ensure Hinze/Paterson paper cited architecture docs remains visibly referenced package documentation metadata (e.g., DESCRIPTION/README). Mechanical reorganization Move code target file families minimal behavior changes. Keep function names stable unless necessary. Backend boundary cleanup C++ path eligible, otherwise fast-R/reference fallback. Keep reference logic independent readable. Test reorganization updates Keep/expand backend parity tests accelerated operations. Ensure API tests remain backend-agnostic. Add missing tests API changes required. Documentation CRAN hardening Regenerate docs verify examples. Ensure CRAN check cleanliness package structure compliance.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_HIGH_LEVEL.html","id":"validation-criteria","dir":"","previous_headings":"","what":"Validation Criteria","title":"Refactor Plan (High-Level)","text":"Public API behavior remains unchanged unless intentionally revised. C++ reference R outputs match parity coverage. testthat::test_local() passes. R CMD check clean (intentionally accepted notes). File layout reflects target layer model easier navigate.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_HIGH_LEVEL.html","id":"risks-and-mitigations","dir":"","previous_headings":"","what":"Risks and Mitigations","title":"Refactor Plan (High-Level)","text":"Mitigation: phase--phase moves + parity tests phase. Mitigation: explicit backend gate tests parity coverage checks. Mitigation: regenerate docs early run check repeatedly.","code":""},{"path":"https://oneilsh.github.io/immutables/PLAN_HIGH_LEVEL.html","id":"deliverable-of-this-plan","dir":"","previous_headings":"","what":"Deliverable of This Plan","title":"Refactor Plan (High-Level)","text":"reorganized, extensible codebase : - core semantics clearly located lambda.r-based reference code, - fast C++ paths explicit isolated, - priority queue code isolated 40-priority_queue-*.R, - parity/tests/checks enforce correctness CRAN readiness.","code":""},{"path":"https://oneilsh.github.io/immutables/articles/flexseq.html","id":"creating-sequences","dir":"Articles","previous_headings":"","what":"Creating sequences","title":"Getting Started with flexseq","text":"flexseq objects persistent (immutable) sequences. update returns new object.","code":"x <- flexseq(1, 2, 3) x #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3  x2 <- as_flexseq(letters[1:5]) x2 #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\""},{"path":"https://oneilsh.github.io/immutables/articles/flexseq.html","id":"indexing","dir":"Articles","previous_headings":"","what":"Indexing","title":"Getting Started with flexseq","text":"","code":"x2[[3]] #> [1] \"c\"  x3 <- x2[c(1, 3, 5)] x3 #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"c\" #>  #> [[3]] #> [1] \"e\""},{"path":"https://oneilsh.github.io/immutables/articles/flexseq.html","id":"appending-and-prepending","dir":"Articles","previous_headings":"","what":"Appending and prepending","title":"Getting Started with flexseq","text":"","code":"x4 <- append(x2, \"f\") x4 #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\"  x5 <- prepend(x4, \"start\") x5 #> FingerTree <size=7, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"start\" #>  #> [[2]] #> [1] \"a\" #>  #> [[3]] #> [1] \"b\" #>  #> [[4]] #> [1] \"c\" #>  #> [[5]] #> [1] \"d\" #>  #> [[6]] #> [1] \"e\" #>  #> ... and 1 more element not shown"},{"path":"https://oneilsh.github.io/immutables/articles/flexseq.html","id":"named-sequences","dir":"Articles","previous_headings":"","what":"Named sequences","title":"Getting Started with flexseq","text":"","code":"x_named <- as_flexseq(list(a = 1, b = 2, c = 3)) x_named #> FingerTree <size=3, named=yes> #>   monoids: none #>  #> $a #> [1] 1 #>  #> $b #> [1] 2 #>  #> $c #> [1] 3  x_named[[\"b\"]] #> [1] 2 x_named$c #> [1] 3"},{"path":"https://oneilsh.github.io/immutables/articles/flexseq.html","id":"concatenation","dir":"Articles","previous_headings":"","what":"Concatenation","title":"Getting Started with flexseq","text":"","code":"x6 <- as_flexseq(4:6) x7 <- c(x, x6) x7 #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>  #> [[6]] #> [1] 6"},{"path":"https://oneilsh.github.io/immutables/articles/flexseq.html","id":"folding","dir":"Articles","previous_headings":"","what":"Folding","title":"Getting Started with flexseq","text":"","code":"sum_m <- measure_monoid(`+`, 0, as.numeric)  x8 <- as_flexseq(1:10) fold_left(x8, sum_m) #> [1] 55"},{"path":"https://oneilsh.github.io/immutables/articles/priority-queues.html","id":"creating-a-priority-queue","dir":"Articles","previous_headings":"","what":"Creating a priority queue","title":"Priority Queues","text":"","code":"x <- priority_queue(\"task_a\", \"task_b\", \"task_c\", priorities = c(3, 1, 2)) x #> <priority_queue> size=3 next_seq=4 #> min_priority=1 max_priority=3"},{"path":"https://oneilsh.github.io/immutables/articles/priority-queues.html","id":"peeking-at-extremes","dir":"Articles","previous_headings":"","what":"Peeking at extremes","title":"Priority Queues","text":"","code":"peek_min(x) #> [1] \"task_b\" peek_max(x) #> [1] \"task_a\""},{"path":"https://oneilsh.github.io/immutables/articles/priority-queues.html","id":"extracting-elements","dir":"Articles","previous_headings":"","what":"Extracting elements","title":"Priority Queues","text":"extract_min() extract_max() return element updated queue.","code":"x2 <- extract_min(x) x2$element #> [1] \"task_b\" x2$priority #> [1] 1 x2$queue #> <priority_queue> size=2 next_seq=4 #> min_priority=2 max_priority=3"},{"path":"https://oneilsh.github.io/immutables/articles/priority-queues.html","id":"inserting-elements","dir":"Articles","previous_headings":"","what":"Inserting elements","title":"Priority Queues","text":"","code":"x3 <- insert(x, \"task_d\", priority = 0) x3 #> <priority_queue> size=4 next_seq=5 #> min_priority=0 max_priority=3 peek_min(x3) #> [1] \"task_d\""},{"path":"https://oneilsh.github.io/immutables/articles/priority-queues.html","id":"persistence","dir":"Articles","previous_headings":"","what":"Persistence","title":"Priority Queues","text":"original queue unchanged.","code":"peek_min(x) #> [1] \"task_b\" is_empty(x) #> [1] FALSE"},{"path":"https://oneilsh.github.io/immutables/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Shawn T. O'Neil. Author, maintainer.","code":""},{"path":"https://oneilsh.github.io/immutables/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"O'Neil S (2026). immutables: Fast Functional Data Structures. R package version 0.0.1, https://github.com/oneilsh/immutables, https://oneilsh.github.io/immutables.","code":"@Manual{,   title = {immutables: Fast and Functional Data Structures},   author = {Shawn T. O'Neil},   year = {2026},   note = {R package version 0.0.1, https://github.com/oneilsh/immutables},   url = {https://oneilsh.github.io/immutables}, }"},{"path":"https://oneilsh.github.io/immutables/index.html","id":"immutables","dir":"","previous_headings":"","what":"immutables","title":"immutables","text":"immutables R package implements sequence objects (flexseq()) supporting indexed named access, appending prepending, concatenation, splitting, fast push pop either end, item removal, . Also implemented priority queues (priority_queue()) supporting addition min max peeking popping priority value. Backed monoid-annotated 2-3 fingertrees described Hinze Paterson, structures persistent (operations return effective modified copies), operations constant time, amortized constant time, O(log⁡(n))O(\\log(n)) (indexing kk elements O(klog⁡(n))O(k \\log(n))). Core functions implemented C++ (via Rcpp) speed, parallel R implementations using lambda.r match counterparts paper. developer API supports addition custom structures via combinations monoids measures; see vignettes details. Hinze, R. Paterson, R. (2006), Finger trees: simple general-purpose data structure.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/MeasureMonoid.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a MeasureMonoid — MeasureMonoid","title":"Construct a MeasureMonoid — MeasureMonoid","text":"Construct MeasureMonoid","code":""},{"path":"https://oneilsh.github.io/immutables/reference/MeasureMonoid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a MeasureMonoid — MeasureMonoid","text":"","code":"MeasureMonoid(f, i, measure)"},{"path":"https://oneilsh.github.io/immutables/reference/MeasureMonoid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a MeasureMonoid — MeasureMonoid","text":"f Associative binary function measure values. Identity measure value `f`. measure Function mapping raw element measure value.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/MeasureMonoid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a MeasureMonoid — MeasureMonoid","text":"object class `MeasureMonoid`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/MeasureMonoid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a MeasureMonoid — MeasureMonoid","text":"","code":"sum_m <- MeasureMonoid(`+`, 0, as.numeric) t <- tree_from(1:5) reduce_left(t, sum_m) #> [1] 15  # Measure from element metadata t2 <- tree_from(letters[1:3], values = c(10, 20, 30)) value_sum <- MeasureMonoid(`+`, 0, function(el) as.numeric(attr(el, \"value\"))) reduce_right(t2, value_sum) #> Error in r$f(t, acc): non-numeric argument to binary operator"},{"path":"https://oneilsh.github.io/immutables/reference/Predicate.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Predicate Function — predicate","title":"Construct a Predicate Function — predicate","text":"Construct Predicate Function","code":""},{"path":"https://oneilsh.github.io/immutables/reference/Predicate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Predicate Function — predicate","text":"","code":"predicate(f)"},{"path":"https://oneilsh.github.io/immutables/reference/Predicate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Predicate Function — predicate","text":"f Predicate function accumulated measure values.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/Predicate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Predicate Function — predicate","text":"predicate function.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/Predicate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a Predicate Function — predicate","text":"","code":"p <- predicate(function(v) v >= 3) p(2) #> [1] FALSE p(3) #> [1] TRUE  x <- as_flexseq(letters[1:5]) locate_by_predicate(x, p, \".size\") #> $found #> [1] TRUE #>  #> $elem #> [1] \"c\" #>"},{"path":"https://oneilsh.github.io/immutables/reference/add_monoids.html","id":null,"dir":"Reference","previous_headings":"","what":"Add/merge monoids on an existing tree — add_monoids","title":"Add/merge monoids on an existing tree — add_monoids","text":"Add/merge monoids existing tree","code":""},{"path":"https://oneilsh.github.io/immutables/reference/add_monoids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add/merge monoids on an existing tree — add_monoids","text":"","code":"add_monoids(t, monoids, overwrite = FALSE)"},{"path":"https://oneilsh.github.io/immutables/reference/add_monoids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add/merge monoids on an existing tree — add_monoids","text":"t FingerTree. monoids Named list `measure_monoid` objects add. overwrite Logical; whether overlapping names replace existing monoids.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/add_monoids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add/merge monoids on an existing tree — add_monoids","text":"persistent copy recomputed cached measures.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/add_monoids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add/merge monoids on an existing tree — add_monoids","text":"","code":"x <- as_flexseq(1:5) x #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>   sum_m <- measure_monoid(`+`, 0, as.numeric) x2 <- add_monoids(x, list(sum = sum_m)) x2 #> $prefix #> [[1]] #> [1] 1 #>  #> attr(,\"class\") #> [1] \"Digit\" \"list\"  #> attr(,\"monoids\") #> attr(,\"monoids\")$.size #> $f #> function(a, b) a + b #> <environment: 0x1069d9428> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) 1 #> <environment: 0x1069d9428> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$.named_count #> $f #> function(a, b) a + b #> <environment: 0x106a1e688> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) { #>     if (isTRUE(.ft_has_name(el))) #>       1L #>     else 0L #>   } #> <environment: 0x106a1e688> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$sum #> $f #> function (e1, e2)  .Primitive(\"+\") #>  #> $i #> [1] 0 #>  #> $measure #> function (x, ...)  .Primitive(\"as.double\") #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"measures\") #> attr(,\"measures\")$.size #> [1] 1 #>  #> attr(,\"measures\")$.named_count #> [1] 0 #>  #> attr(,\"measures\")$sum #> [1] 1 #>  #>  #> $middle #> [[1]] #> NULL #>  #> attr(,\"class\") #> [1] \"Empty\"      \"FingerTree\" \"list\"       #> attr(,\"monoids\") #> attr(,\"monoids\")$.size #> $f #> function(a, b) a + b #> <environment: 0x11ce1e358> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) 1 #> <environment: 0x11ce1e358> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$.named_count #> $f #> function(a, b) a + b #> <environment: 0x11ce5f010> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) { #>     if (isTRUE(.ft_has_name(el))) #>       1L #>     else 0L #>   } #> <environment: 0x11ce5f010> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$sum #> $f #> function (e1, e2)  .Primitive(\"+\") #>  #> $i #> [1] 0 #>  #> $measure #> function (x, ...)  .Primitive(\"as.double\") #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"measures\") #> attr(,\"measures\")$.size #> [1] 0 #>  #> attr(,\"measures\")$.named_count #> [1] 0 #>  #> attr(,\"measures\")$sum #> [1] 0 #>  #>  #> $suffix #> [[1]] #> [1] 2 #>  #> [[2]] #> [1] 3 #>  #> [[3]] #> [1] 4 #>  #> [[4]] #> [1] 5 #>  #> attr(,\"class\") #> [1] \"Digit\" \"list\"  #> attr(,\"monoids\") #> attr(,\"monoids\")$.size #> $f #> function(a, b) a + b #> <environment: 0x10647b9b8> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) 1 #> <environment: 0x10647b9b8> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$.named_count #> $f #> function(a, b) a + b #> <environment: 0x1064fbb78> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) { #>     if (isTRUE(.ft_has_name(el))) #>       1L #>     else 0L #>   } #> <environment: 0x1064fbb78> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$sum #> $f #> function (e1, e2)  .Primitive(\"+\") #>  #> $i #> [1] 0 #>  #> $measure #> function (x, ...)  .Primitive(\"as.double\") #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"measures\") #> attr(,\"measures\")$.size #> [1] 4 #>  #> attr(,\"measures\")$.named_count #> [1] 0 #>  #> attr(,\"measures\")$sum #> [1] 14 #>  #>  #> attr(,\"class\") #> [1] \"Deep\"       \"FingerTree\" \"list\"       #> attr(,\"monoids\") #> attr(,\"monoids\")$.size #> $f #> function(a, b) a + b #> <environment: 0x10e05edb0> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) 1 #> <environment: 0x10e05edb0> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$.named_count #> $f #> function(a, b) a + b #> <environment: 0x10e23d9e8> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) { #>     if (isTRUE(.ft_has_name(el))) #>       1L #>     else 0L #>   } #> <environment: 0x10e23d9e8> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$sum #> $f #> function (e1, e2)  .Primitive(\"+\") #>  #> $i #> [1] 0 #>  #> $measure #> function (x, ...)  .Primitive(\"as.double\") #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"measures\") #> attr(,\"measures\")$.size #> [1] 5 #>  #> attr(,\"measures\")$.named_count #> [1] 0 #>  #> attr(,\"measures\")$sum #> [1] 15 #>  attr(x2, \"measures\")$sum #> [1] 15  # replace an existing monoid definition prod_m <- measure_monoid(`*`, 1, as.numeric) x3 <- add_monoids(x2, list(sum = prod_m), overwrite = TRUE) attr(x3, \"measures\")$sum #> [1] 120"},{"path":"https://oneilsh.github.io/immutables/reference/append.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Append an element to a flexseq — append.flexseq","title":"Append an element to a flexseq — append.flexseq","text":"Append element flexseq","code":""},{"path":"https://oneilsh.github.io/immutables/reference/append.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Append an element to a flexseq — append.flexseq","text":"","code":"# S3 method for class 'flexseq' append(x, values, ...)"},{"path":"https://oneilsh.github.io/immutables/reference/append.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Append an element to a flexseq — append.flexseq","text":"x `flexseq`. values Element append. ... Unused.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/append.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Append an element to a flexseq — append.flexseq","text":"Updated `flexseq`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/append.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Append an element to a flexseq — append.flexseq","text":"","code":"x <- as_flexseq(letters[1:4]) x #> FingerTree <size=4, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>   x2 <- append(x, \"p\") x2 #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"p\" #>   # flexseqs can also hold nested or mixed types x3 <- append(x2, c(8, 9)) x3 #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"p\" #>  #> [[6]] #> [1] 8 9 #>   # appending to a named sequence requires a named element x4 <- as_flexseq(list(one = 1, two = 2, three = 3)) new_el <- 4 names(new_el) <- \"four\" x5 <- append(x4, new_el) x5 #> FingerTree <size=4, named=yes> #>   monoids: none #>  #> $one #> [1] 1 #>  #> $two #> [1] 2 #>  #> $three #> [1] 3 #>  #> $four #> four  #>    4  #>"},{"path":"https://oneilsh.github.io/immutables/reference/as.list.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Coerce a Sequence to Base List — as.list.flexseq","title":"Coerce a Sequence to Base List — as.list.flexseq","text":"Returns elements left--right sequence order.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/as.list.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coerce a Sequence to Base List — as.list.flexseq","text":"","code":"# S3 method for class 'flexseq' as.list(x, ...)"},{"path":"https://oneilsh.github.io/immutables/reference/as.list.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coerce a Sequence to Base List — as.list.flexseq","text":"x `flexseq`. ... Unused.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/as.list.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coerce a Sequence to Base List — as.list.flexseq","text":"base R list sequence elements.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/as_flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Coerce to a Persistent Flexible Sequence — as_flexseq","title":"Coerce to a Persistent Flexible Sequence — as_flexseq","text":"Coerce Persistent Flexible Sequence","code":""},{"path":"https://oneilsh.github.io/immutables/reference/as_flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coerce to a Persistent Flexible Sequence — as_flexseq","text":"","code":"as_flexseq(x, monoids = NULL)"},{"path":"https://oneilsh.github.io/immutables/reference/as_flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coerce to a Persistent Flexible Sequence — as_flexseq","text":"x Input vector/list-like object. monoids Optional named list measure monoids.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/as_flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coerce to a Persistent Flexible Sequence — as_flexseq","text":"`flexseq` object.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/as_flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Coerce to a Persistent Flexible Sequence — as_flexseq","text":"","code":"x <- as_flexseq(1:5) x #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>   x2 <- as_flexseq(list(one = 1, two = 2, three = 3)) x2 #> FingerTree <size=3, named=yes> #>   monoids: none #>  #> $one #> [1] 1 #>  #> $two #> [1] 2 #>  #> $three #> [1] 3 #>"},{"path":"https://oneilsh.github.io/immutables/reference/as_priority_queue.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a Priority Queue from elements and priorities — as_priority_queue","title":"Build a Priority Queue from elements and priorities — as_priority_queue","text":"Build Priority Queue elements priorities","code":""},{"path":"https://oneilsh.github.io/immutables/reference/as_priority_queue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a Priority Queue from elements and priorities — as_priority_queue","text":"","code":"as_priority_queue(x, priorities, names = NULL, monoids = NULL)"},{"path":"https://oneilsh.github.io/immutables/reference/as_priority_queue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a Priority Queue from elements and priorities — as_priority_queue","text":"x Elements enqueue. priorities Numeric priorities (length `x`). names Optional element names name-based indexing. monoids Optional additional named list `measure_monoid` objects.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/as_priority_queue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a Priority Queue from elements and priorities — as_priority_queue","text":"`priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/as_priority_queue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build a Priority Queue from elements and priorities — as_priority_queue","text":"","code":"x <- as_priority_queue(letters[1:4], priorities = c(3, 1, 2, 1)) x #> <priority_queue> size=4 next_seq=5 #> min_priority=1 max_priority=3 peek_min(x) #> [1] \"b\" peek_max(x) #> [1] \"a\""},{"path":"https://oneilsh.github.io/immutables/reference/c.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Concatenate Sequences — c.flexseq","title":"Concatenate Sequences — c.flexseq","text":"Concatenate Sequences","code":""},{"path":"https://oneilsh.github.io/immutables/reference/c.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concatenate Sequences — c.flexseq","text":"","code":"# S3 method for class 'flexseq' c(..., recursive = FALSE)"},{"path":"https://oneilsh.github.io/immutables/reference/c.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Concatenate Sequences — c.flexseq","text":"... `flexseq` objects. recursive Unused; must `FALSE`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/c.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Concatenate Sequences — c.flexseq","text":"concatenated `flexseq`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract a named element with `$` — $.FingerTree","title":"Extract a named element with `$` — $.FingerTree","text":"Exact-name lookup named trees, equivalent `x[[\\\"name\\\"]]`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract a named element with `$` — $.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x$name"},{"path":"https://oneilsh.github.io/immutables/reference/cash-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract a named element with `$` — $.FingerTree","text":"x FingerTree. name Element name.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract a named element with `$` — $.FingerTree","text":"matched element.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract a named element with `$` — $.FingerTree","text":"","code":"t <- tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) #> Error in tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))): could not find function \"tree_from\" t$b #> Error in t$b: object of type 'closure' is not subsettable"},{"path":"https://oneilsh.github.io/immutables/reference/cash-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract a named element with `$` — $.flexseq","title":"Extract a named element with `$` — $.flexseq","text":"Exact-name lookup named trees, equivalent `x[[\\\"name\\\"]]`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract a named element with `$` — $.flexseq","text":"","code":"# S3 method for class 'flexseq' x$name"},{"path":"https://oneilsh.github.io/immutables/reference/cash-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract a named element with `$` — $.flexseq","text":"x `flexseq`. name Element name.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract a named element with `$` — $.flexseq","text":"matched element.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract a named element with `$` — $.flexseq","text":"","code":"x <- as_flexseq(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) x$b #> [1] 2"},{"path":"https://oneilsh.github.io/immutables/reference/cash-set-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace a named element with `$<-` — $<-.FingerTree","title":"Replace a named element with `$<-` — $<-.FingerTree","text":"Exact-name replacement named trees, equivalent `x[[\\\"name\\\"]] <- value`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-set-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace a named element with `$<-` — $<-.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x$name <- value"},{"path":"https://oneilsh.github.io/immutables/reference/cash-set-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace a named element with `$<-` — $<-.FingerTree","text":"x FingerTree. name Element name. value Replacement element.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-set-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace a named element with `$<-` — $<-.FingerTree","text":"Updated tree.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-set-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace a named element with `$<-` — $<-.FingerTree","text":"","code":"t <- tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) #> Error in tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))): could not find function \"tree_from\" t$b <- 20 #> Error in t$b <- 20: object of type 'closure' is not subsettable t$b #> Error in t$b: object of type 'closure' is not subsettable"},{"path":"https://oneilsh.github.io/immutables/reference/cash-set-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace a named element with `$<-` — $<-.flexseq","title":"Replace a named element with `$<-` — $<-.flexseq","text":"Exact-name replacement named trees, equivalent `x[[\\\"name\\\"]] <- value`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-set-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace a named element with `$<-` — $<-.flexseq","text":"","code":"# S3 method for class 'flexseq' x$name <- value"},{"path":"https://oneilsh.github.io/immutables/reference/cash-set-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace a named element with `$<-` — $<-.flexseq","text":"x `flexseq`. name Element name. value Replacement element.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-set-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace a named element with `$<-` — $<-.flexseq","text":"Updated tree.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/cash-set-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace a named element with `$<-` — $<-.flexseq","text":"","code":"x <- as_flexseq(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) x$b <- 20 x$b #> [1] 20"},{"path":"https://oneilsh.github.io/immutables/reference/concat_trees.html","id":null,"dir":"Reference","previous_headings":"","what":"Concatenate Two Structural Trees — concat_trees","title":"Concatenate Two Structural Trees — concat_trees","text":"-name monoids assumed equivalent; left-tree definitions win. Missing monoids added side concatenation.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/concat_trees.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concatenate Two Structural Trees — concat_trees","text":"","code":"concat_trees(x, y)"},{"path":"https://oneilsh.github.io/immutables/reference/concat_trees.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Concatenate Two Structural Trees — concat_trees","text":"x `flexseq` (left side). y `flexseq` (right side).","code":""},{"path":"https://oneilsh.github.io/immutables/reference/concat_trees.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Concatenate Two Structural Trees — concat_trees","text":"Concatenated tree.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/concat_trees.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Concatenate Two Structural Trees — concat_trees","text":"","code":"if (FALSE) { # \\dontrun{ left <- as_flexseq(letters[1:3]) right <- as_flexseq(letters[4:6]) t <- concat_trees(left, right) cat_m <- measure_monoid(paste0, \"\", as.character) fold_left(t, cat_m) } # }"},{"path":"https://oneilsh.github.io/immutables/reference/empty_tree.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an Empty Structural Tree — empty_tree","title":"Create an Empty Structural Tree — empty_tree","text":"Create Empty Structural Tree","code":""},{"path":"https://oneilsh.github.io/immutables/reference/empty_tree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an Empty Structural Tree — empty_tree","text":"","code":"empty_tree(monoids = NULL)"},{"path":"https://oneilsh.github.io/immutables/reference/empty_tree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an Empty Structural Tree — empty_tree","text":"monoids Optional named list `measure_monoid` objects.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/empty_tree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an Empty Structural Tree — empty_tree","text":"empty finger tree structural `monoids` `measures` attrs.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/empty_tree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an Empty Structural Tree — empty_tree","text":"","code":"if (FALSE) { # \\dontrun{ t <- empty_tree() t  count_m <- measure_monoid(`+`, 0, function(el) 1) t2 <- empty_tree(monoids = list(count = count_m)) attr(t2, \"measures\") } # }"},{"path":"https://oneilsh.github.io/immutables/reference/extract_max.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract maximum-priority element — extract_max","title":"Extract maximum-priority element — extract_max","text":"Extract maximum-priority element","code":""},{"path":"https://oneilsh.github.io/immutables/reference/extract_max.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract maximum-priority element — extract_max","text":"","code":"extract_max(q)"},{"path":"https://oneilsh.github.io/immutables/reference/extract_max.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract maximum-priority element — extract_max","text":"q `priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/extract_max.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract maximum-priority element — extract_max","text":"List `element`, `priority`, updated `queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/extract_max.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract maximum-priority element — extract_max","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 3, 3)) out <- extract_max(x) out$element #> [1] \"b\" out$priority #> [1] 3 out$queue #> <priority_queue> size=2 next_seq=4 #> min_priority=2 max_priority=3"},{"path":"https://oneilsh.github.io/immutables/reference/extract_min.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract minimum-priority element — extract_min","title":"Extract minimum-priority element — extract_min","text":"Extract minimum-priority element","code":""},{"path":"https://oneilsh.github.io/immutables/reference/extract_min.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract minimum-priority element — extract_min","text":"","code":"extract_min(q)"},{"path":"https://oneilsh.github.io/immutables/reference/extract_min.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract minimum-priority element — extract_min","text":"q `priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/extract_min.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract minimum-priority element — extract_min","text":"List `element`, `priority`, updated `queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/extract_min.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract minimum-priority element — extract_min","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 1, 1)) out <- extract_min(x) out$element #> [1] \"b\" out$priority #> [1] 1 out$queue #> <priority_queue> size=2 next_seq=4 #> min_priority=1 max_priority=2"},{"path":"https://oneilsh.github.io/immutables/reference/fingertree-package.html","id":null,"dir":"Reference","previous_headings":"","what":"fingertree — fingertree-package","title":"fingertree — fingertree-package","text":"Monoid-annotated 2-3 finger trees.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/fingertree-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"fingertree — fingertree-package","text":"Maintainer: Shawn T. O'Neil shawn@tislab.org","code":""},{"path":"https://oneilsh.github.io/immutables/reference/flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Persistent Flexible Sequence — flexseq","title":"Construct a Persistent Flexible Sequence — flexseq","text":"Works like `list(...)`, returns immutable sequence backed measured finger-tree internals.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Persistent Flexible Sequence — flexseq","text":"","code":"flexseq(..., monoids = NULL)"},{"path":"https://oneilsh.github.io/immutables/reference/flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Persistent Flexible Sequence — flexseq","text":"... Sequence elements. monoids Optional named list measure monoids.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Persistent Flexible Sequence — flexseq","text":"`flexseq` object.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a Persistent Flexible Sequence — flexseq","text":"","code":"x <- flexseq(1, 2, 3) x #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>   x2 <- flexseq(\"a\", \"b\", \"c\") x2 #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>"},{"path":"https://oneilsh.github.io/immutables/reference/fold_left.html","id":null,"dir":"Reference","previous_headings":"","what":"Fold Left Over a Sequence — fold_left","title":"Fold Left Over a Sequence — fold_left","text":"Fold Left Sequence","code":""},{"path":"https://oneilsh.github.io/immutables/reference/fold_left.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fold Left Over a Sequence — fold_left","text":"","code":"fold_left(x, monoid)"},{"path":"https://oneilsh.github.io/immutables/reference/fold_left.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fold Left Over a Sequence — fold_left","text":"x `flexseq`. monoid `measure_monoid` specification.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/fold_left.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fold Left Over a Sequence — fold_left","text":"Reduced value.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/fold_left.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fold Left Over a Sequence — fold_left","text":"","code":"x <- as_flexseq(1:5) x #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>   sum_m <- measure_monoid(`+`, 0, as.numeric) fold_left(x, sum_m) #> [1] 15  x2 <- as_flexseq(letters[1:4]) cat_m <- measure_monoid(paste0, \"\", as.character) fold_left(x2, cat_m) #> [1] \"abcd\""},{"path":"https://oneilsh.github.io/immutables/reference/fold_right.html","id":null,"dir":"Reference","previous_headings":"","what":"Fold Right Over a Sequence — fold_right","title":"Fold Right Over a Sequence — fold_right","text":"Fold Right Sequence","code":""},{"path":"https://oneilsh.github.io/immutables/reference/fold_right.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fold Right Over a Sequence — fold_right","text":"","code":"fold_right(x, monoid)"},{"path":"https://oneilsh.github.io/immutables/reference/fold_right.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fold Right Over a Sequence — fold_right","text":"x `flexseq`. monoid `measure_monoid` specification.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/fold_right.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fold Right Over a Sequence — fold_right","text":"Reduced value.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/fold_right.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fold Right Over a Sequence — fold_right","text":"","code":"x <- as_flexseq(1:5) x #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>   sum_m <- measure_monoid(`+`, 0, as.numeric) fold_right(x, sum_m) #> [1] 15  x2 <- as_flexseq(letters[1:4]) cat_m <- measure_monoid(paste0, \"\", as.character) fold_right(x2, cat_m) #> [1] \"abcd\""},{"path":"https://oneilsh.github.io/immutables/reference/get_graph_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Build graph data frames for a finger tree — get_graph_df","title":"Build graph data frames for a finger tree — get_graph_df","text":"Build graph data frames finger tree","code":""},{"path":"https://oneilsh.github.io/immutables/reference/get_graph_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build graph data frames for a finger tree — get_graph_df","text":"","code":"get_graph_df(t)"},{"path":"https://oneilsh.github.io/immutables/reference/get_graph_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build graph data frames for a finger tree — get_graph_df","text":"t FingerTree.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/get_graph_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build graph data frames for a finger tree — get_graph_df","text":"list edge node data frames igraph plotting.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/get_graph_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build graph data frames for a finger tree — get_graph_df","text":"","code":"if (FALSE) { # \\dontrun{ t <- as_flexseq(letters[1:4]) gdf <- get_graph_df(t) names(gdf) } # }"},{"path":"https://oneilsh.github.io/immutables/reference/immutables-package.html","id":null,"dir":"Reference","previous_headings":"","what":"immutables — immutables-package","title":"immutables — immutables-package","text":"Sequence objects (`flexseq()`) supporting indexed named access, appending prepending, concatenation, splitting, fast push pop either end, item removal, .","code":""},{"path":"https://oneilsh.github.io/immutables/reference/immutables-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"immutables — immutables-package","text":"Also implemented priority queues (`priority_queue()`) supporting addition min max peeking popping priority value. Backed monoid-annotated 2-3 fingertrees, structures persistent (operations return effective modified copies), operations constant time, amortized constant time, \\(O(\\log n)\\) (indexing k elements \\(O(k \\log n)\\)). developer API supports addition custom structures via combinations monoids measures; see vignettes details.","code":""},{"path":[]},{"path":"https://oneilsh.github.io/immutables/reference/immutables-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"immutables — immutables-package","text":"Maintainer: Shawn T. O'Neil shawn@tislab.org","code":""},{"path":"https://oneilsh.github.io/immutables/reference/insert.html","id":null,"dir":"Reference","previous_headings":"","what":"Insert an element into a priority queue — insert","title":"Insert an element into a priority queue — insert","text":"Insert element priority queue","code":""},{"path":"https://oneilsh.github.io/immutables/reference/insert.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Insert an element into a priority queue — insert","text":"","code":"insert(q, element, priority, name = NULL)"},{"path":"https://oneilsh.github.io/immutables/reference/insert.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Insert an element into a priority queue — insert","text":"q `priority_queue`. element Element insert. priority Numeric scalar priority. name Optional element name.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/insert.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Insert an element into a priority queue — insert","text":"Updated `priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/insert.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Insert an element into a priority queue — insert","text":"","code":"x <- priority_queue(\"a\", \"b\", priorities = c(2, 1)) x #> <priority_queue> size=2 next_seq=3 #> min_priority=1 max_priority=2  x2 <- insert(x, \"c\", priority = 1) x2 #> <priority_queue> size=3 next_seq=4 #> min_priority=1 max_priority=2 peek_min(x2) #> [1] \"b\""},{"path":"https://oneilsh.github.io/immutables/reference/is_empty.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether a priority queue is empty — is_empty","title":"Check whether a priority queue is empty — is_empty","text":"Check whether priority queue empty","code":""},{"path":"https://oneilsh.github.io/immutables/reference/is_empty.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether a priority queue is empty — is_empty","text":"","code":"is_empty(q)"},{"path":"https://oneilsh.github.io/immutables/reference/is_empty.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether a priority queue is empty — is_empty","text":"q `priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/is_empty.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether a priority queue is empty — is_empty","text":"Logical scalar.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/is_empty.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check whether a priority queue is empty — is_empty","text":"","code":"x <- priority_queue() is_empty(x) #> [1] TRUE  x2 <- priority_queue(\"a\", priorities = 1) is_empty(x2) #> [1] FALSE"},{"path":"https://oneilsh.github.io/immutables/reference/length.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Sequence Length — length.flexseq","title":"Sequence Length — length.flexseq","text":"Sequence Length","code":""},{"path":"https://oneilsh.github.io/immutables/reference/length.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sequence Length — length.flexseq","text":"","code":"# S3 method for class 'flexseq' length(x)"},{"path":"https://oneilsh.github.io/immutables/reference/length.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sequence Length — length.flexseq","text":"x `flexseq`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/length.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sequence Length — length.flexseq","text":"Number elements sequence.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/length.priority_queue.html","id":null,"dir":"Reference","previous_headings":"","what":"Priority Queue Length — length.priority_queue","title":"Priority Queue Length — length.priority_queue","text":"Priority Queue Length","code":""},{"path":"https://oneilsh.github.io/immutables/reference/length.priority_queue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Priority Queue Length — length.priority_queue","text":"","code":"# S3 method for class 'priority_queue' length(x)"},{"path":"https://oneilsh.github.io/immutables/reference/length.priority_queue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Priority Queue Length — length.priority_queue","text":"x `priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/length.priority_queue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Priority Queue Length — length.priority_queue","text":"Number entries.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/locate_by_predicate.html","id":null,"dir":"Reference","previous_headings":"","what":"Locate First Predicate Flip Without Reconstructing Context Trees — locate_by_predicate","title":"Locate First Predicate Flip Without Reconstructing Context Trees — locate_by_predicate","text":"Read-analogue [split_around_by_predicate()]: finds distinguished element scan predicate flips, rebuild left/right trees.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/locate_by_predicate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Locate First Predicate Flip Without Reconstructing Context Trees — locate_by_predicate","text":"","code":"locate_by_predicate(   t,   predicate,   monoid_name,   accumulator = NULL,   include_metadata = FALSE )"},{"path":"https://oneilsh.github.io/immutables/reference/locate_by_predicate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Locate First Predicate Flip Without Reconstructing Context Trees — locate_by_predicate","text":"t `flexseq`. predicate Function accumulated measure values. monoid_name Name monoid `attr(t, \"monoids\")`. accumulator Optional starting measure (defaults monoid identity). include_metadata Logical; include left/hit/right measures index.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/locate_by_predicate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Locate First Predicate Flip Without Reconstructing Context Trees — locate_by_predicate","text":"`include_metadata = FALSE`: `list(found, elem)`.   `TRUE`: `list(found, elem, metadata = list(left_measure, hit_measure,   right_measure, index))`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/locate_by_predicate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Locate First Predicate Flip Without Reconstructing Context Trees — locate_by_predicate","text":"","code":"x <- as_flexseq(letters[1:6]) x #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\" #>   loc <- locate_by_predicate(x, function(v) v >= 4, \".size\") loc #> $found #> [1] TRUE #>  #> $elem #> [1] \"d\" #>   # include metadata with a custom monoid sum_m <- measure_monoid(`+`, 0, as.numeric) x2 <- as_flexseq(1:6, monoids = list(sum = sum_m)) loc2 <- locate_by_predicate(x2, function(v) v >= 10, \"sum\", include_metadata = TRUE) loc2 #> $found #> [1] TRUE #>  #> $elem #> [1] 4 #>  #> $metadata #> $metadata$left_measure #> [1] 6 #>  #> $metadata$hit_measure #> [1] 10 #>  #> $metadata$right_measure #> [1] 11 #>  #> $metadata$index #> [1] 4 #>  #>"},{"path":"https://oneilsh.github.io/immutables/reference/measure_monoid.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Measure Monoid Specification — measure_monoid","title":"Construct a Measure Monoid Specification — measure_monoid","text":"Construct Measure Monoid Specification","code":""},{"path":"https://oneilsh.github.io/immutables/reference/measure_monoid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Measure Monoid Specification — measure_monoid","text":"","code":"measure_monoid(f, i, measure)"},{"path":"https://oneilsh.github.io/immutables/reference/measure_monoid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Measure Monoid Specification — measure_monoid","text":"f Associative binary function measure values. Identity measure value `f`. measure Function mapping raw element measure value.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/measure_monoid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Measure Monoid Specification — measure_monoid","text":"object class `measure_monoid`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/measure_monoid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a Measure Monoid Specification — measure_monoid","text":"","code":"sum_m <- measure_monoid(`+`, 0, as.numeric) x <- as_flexseq(1:5) fold_left(x, sum_m) #> [1] 15  # create a second monoid and add it to a sequence nchar_sum <- measure_monoid(`+`, 0, function(el) nchar(as.character(el))) x2 <- as_flexseq(letters[1:3]) x3 <- add_monoids(x2, list(nchar_sum = nchar_sum)) attr(x3, \"measures\")$nchar_sum #> [1] 3"},{"path":"https://oneilsh.github.io/immutables/reference/peek_max.html","id":null,"dir":"Reference","previous_headings":"","what":"Peek maximum-priority element — peek_max","title":"Peek maximum-priority element — peek_max","text":"Peek maximum-priority element","code":""},{"path":"https://oneilsh.github.io/immutables/reference/peek_max.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Peek maximum-priority element — peek_max","text":"","code":"peek_max(q)"},{"path":"https://oneilsh.github.io/immutables/reference/peek_max.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Peek maximum-priority element — peek_max","text":"q `priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/peek_max.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Peek maximum-priority element — peek_max","text":"Element maximum priority (stable ties).","code":""},{"path":"https://oneilsh.github.io/immutables/reference/peek_max.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Peek maximum-priority element — peek_max","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 3, 3)) x #> <priority_queue> size=3 next_seq=4 #> min_priority=2 max_priority=3 peek_max(x) #> [1] \"b\""},{"path":"https://oneilsh.github.io/immutables/reference/peek_min.html","id":null,"dir":"Reference","previous_headings":"","what":"Peek minimum-priority element — peek_min","title":"Peek minimum-priority element — peek_min","text":"Peek minimum-priority element","code":""},{"path":"https://oneilsh.github.io/immutables/reference/peek_min.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Peek minimum-priority element — peek_min","text":"","code":"peek_min(q)"},{"path":"https://oneilsh.github.io/immutables/reference/peek_min.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Peek minimum-priority element — peek_min","text":"q `priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/peek_min.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Peek minimum-priority element — peek_min","text":"Element minimum priority (stable ties).","code":""},{"path":"https://oneilsh.github.io/immutables/reference/peek_min.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Peek minimum-priority element — peek_min","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 1, 1)) x #> <priority_queue> size=3 next_seq=4 #> min_priority=1 max_priority=2 peek_min(x) #> [1] \"b\""},{"path":"https://oneilsh.github.io/immutables/reference/plot.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a Sequence Tree — plot.flexseq","title":"Plot a Sequence Tree — plot.flexseq","text":"Plot Sequence Tree","code":""},{"path":"https://oneilsh.github.io/immutables/reference/plot.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a Sequence Tree — plot.flexseq","text":"","code":"# S3 method for class 'flexseq' plot(x, ...)"},{"path":"https://oneilsh.github.io/immutables/reference/plot.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a Sequence Tree — plot.flexseq","text":"x `flexseq`. ... Passed internal tree plotting routine.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/plot_tree.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a finger tree with igraph — plot_tree","title":"Plot a finger tree with igraph — plot_tree","text":"Plot finger tree igraph","code":""},{"path":"https://oneilsh.github.io/immutables/reference/plot_tree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a finger tree with igraph — plot_tree","text":"","code":"plot_tree(   t1,   vertex.size = 4,   edge.width = 1,   label_edges = FALSE,   title = NULL,   node_label = c(\"value\", \"type\", \"both\", \"none\"),   ... )"},{"path":"https://oneilsh.github.io/immutables/reference/plot_tree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a finger tree with igraph — plot_tree","text":"t1 FingerTree. vertex.size Vertex size passed `igraph::plot.igraph`. edge.width Edge width passed `igraph::plot.igraph`. label_edges Whether draw edge labels. title Optional plot title. node_label Node label mode: value, type, , none. ... Additional arguments passed `igraph::plot.igraph`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/plot_tree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a finger tree with igraph — plot_tree","text":"","code":"if (FALSE) { # \\dontrun{ t <- as_flexseq(letters[1:8]) plot_tree(t, title = \"Finger tree\")  t2 <- as_flexseq(letters[1:12]) plot_tree(t2, node_label = \"both\", vertex.size = 8) } # }"},{"path":"https://oneilsh.github.io/immutables/reference/pq_apply.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply a Function Over Priority Queue Entries — pq_apply","title":"Apply a Function Over Priority Queue Entries — pq_apply","text":"Applies per-entry transform rebuilds `priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/pq_apply.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply a Function Over Priority Queue Entries — pq_apply","text":"","code":"pq_apply(q, f, reset_ties = TRUE, ...)"},{"path":"https://oneilsh.github.io/immutables/reference/pq_apply.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply a Function Over Priority Queue Entries — pq_apply","text":"q `priority_queue`. f Callback called `f(item, priority, seq_id, name, ...)`. must return named list using subset : `item`, `priority`, `name`. Missing fields inherit original values. reset_ties Logical; `TRUE`, refreshes tie-break `seq_id` current order. `FALSE`, preserves existing `seq_id` values. ... Additional arguments passed `f`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/pq_apply.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply a Function Over Priority Queue Entries — pq_apply","text":"rebuilt `priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/pq_apply.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply a Function Over Priority Queue Entries — pq_apply","text":"","code":"q <- priority_queue(\"a\", \"bb\", \"ccc\", priorities = c(1, 3, 2)) q2 <- pq_apply(q, function(item, priority, seq_id, name) {   list(item = toupper(item)) }) peek_min(q2) #> [1] \"A\"  q3 <- pq_apply(q, function(item, priority, seq_id, name) {   list(priority = priority + nchar(item)) }) peek_max(q3) #> [1] \"bb\""},{"path":"https://oneilsh.github.io/immutables/reference/prepend.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepend an element — prepend","title":"Prepend an element — prepend","text":"Prepend element","code":""},{"path":"https://oneilsh.github.io/immutables/reference/prepend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepend an element — prepend","text":"","code":"prepend(t, x)"},{"path":"https://oneilsh.github.io/immutables/reference/prepend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepend an element — prepend","text":"t `flexseq`. x Element prepend.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/prepend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepend an element — prepend","text":"Updated tree.   `t` name-indexed, prepending unnamed elements invalid.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/prepend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepend an element — prepend","text":"","code":"x <- as_flexseq(letters[2:5]) x #> FingerTree <size=4, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"b\" #>  #> [[2]] #> [1] \"c\" #>  #> [[3]] #> [1] \"d\" #>  #> [[4]] #> [1] \"e\" #>   x2 <- prepend(x, \"a\") x2 #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>   # prepending to a named sequence requires a named element x3 <- as_flexseq(list(two = 2, three = 3)) new_el <- 1 names(new_el) <- \"one\" x4 <- prepend(x3, new_el) x4 #> FingerTree <size=3, named=yes> #>   monoids: none #>  #> $one #> one  #>   1  #>  #> $two #> [1] 2 #>  #> $three #> [1] 3 #>"},{"path":"https://oneilsh.github.io/immutables/reference/print.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a compact summary of a finger tree — print.FingerTree","title":"Print a compact summary of a finger tree — print.FingerTree","text":"Print compact summary finger tree","code":""},{"path":"https://oneilsh.github.io/immutables/reference/print.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a compact summary of a finger tree — print.FingerTree","text":"","code":"# S3 method for class 'FingerTree' print(x, max_elements = 6L, show_internal_monoids = FALSE, ...)  # S3 method for class 'Deep' print(x, ...)  # S3 method for class 'Single' print(x, ...)  # S3 method for class 'Empty' print(x, ...)"},{"path":"https://oneilsh.github.io/immutables/reference/print.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a compact summary of a finger tree — print.FingerTree","text":"x FingerTree. max_elements Maximum number elements show list-style preview. Default `6`. show_internal_monoids Logical; show internal monoids (`.size`, `.named_count`). Default `FALSE`. ... Passed `print()` preview elements.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/print.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print a compact summary of a finger tree — print.FingerTree","text":"`x`, invisibly.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/print.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print a compact summary of a finger tree — print.FingerTree","text":"","code":"x <- as_flexseq(letters[1:10]) x #> FingerTree <size=10, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\" #>  #> ... and 4 more elements not shown  x2 <- as_flexseq(setNames(as.list(1:5), paste0(\"k\", 1:5))) x2 #> FingerTree <size=5, named=yes> #>   monoids: none #>  #> $k1 #> [1] 1 #>  #> $k2 #> [1] 2 #>  #> $k3 #> [1] 3 #>  #> $k4 #> [1] 4 #>  #> $k5 #> [1] 5 #>"},{"path":"https://oneilsh.github.io/immutables/reference/print.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a flexseq — print.flexseq","title":"Print a flexseq — print.flexseq","text":"Print flexseq","code":""},{"path":"https://oneilsh.github.io/immutables/reference/print.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a flexseq — print.flexseq","text":"","code":"# S3 method for class 'flexseq' print(x, ...)"},{"path":"https://oneilsh.github.io/immutables/reference/print.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a flexseq — print.flexseq","text":"x `flexseq`. ... Passed `print.FingerTree`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/print.priority_queue.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a Priority Queue — print.priority_queue","title":"Print a Priority Queue — print.priority_queue","text":"Print Priority Queue","code":""},{"path":"https://oneilsh.github.io/immutables/reference/print.priority_queue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a Priority Queue — print.priority_queue","text":"","code":"# S3 method for class 'priority_queue' print(x, ...)"},{"path":"https://oneilsh.github.io/immutables/reference/print.priority_queue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a Priority Queue — print.priority_queue","text":"x `priority_queue`. ... Unused.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/print.priority_queue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print a Priority Queue — print.priority_queue","text":"`x` invisibly.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/print.priority_queue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print a Priority Queue — print.priority_queue","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 1, 3)) x #> <priority_queue> size=3 next_seq=4 #> min_priority=1 max_priority=3"},{"path":"https://oneilsh.github.io/immutables/reference/priority_queue.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Priority Queue — priority_queue","title":"Construct a Priority Queue — priority_queue","text":"Construct Priority Queue","code":""},{"path":"https://oneilsh.github.io/immutables/reference/priority_queue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Priority Queue — priority_queue","text":"","code":"priority_queue(..., priorities = NULL, names = NULL, monoids = NULL)"},{"path":"https://oneilsh.github.io/immutables/reference/priority_queue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Priority Queue — priority_queue","text":"... Elements enqueue. priorities Numeric priorities matching `...`. names Optional element names. monoids Optional additional named list `measure_monoid` objects.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/priority_queue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Priority Queue — priority_queue","text":"`priority_queue`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/priority_queue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a Priority Queue — priority_queue","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 1, 2)) x #> <priority_queue> size=3 next_seq=4 #> min_priority=1 max_priority=2 peek_min(x) #> [1] \"b\""},{"path":"https://oneilsh.github.io/immutables/reference/reduce_left.html","id":null,"dir":"Reference","previous_headings":"","what":"Reduce from the left — reduce_left","title":"Reduce from the left — reduce_left","text":"Reduce left","code":""},{"path":"https://oneilsh.github.io/immutables/reference/reduce_left.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reduce from the left — reduce_left","text":"","code":"reduce_left(t, monoid)"},{"path":"https://oneilsh.github.io/immutables/reference/reduce_left.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reduce from the left — reduce_left","text":"t FingerTree. monoid `MeasureMonoid` object.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/reduce_left.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reduce from the left — reduce_left","text":"Reduced value.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/reduce_left.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reduce from the left — reduce_left","text":"","code":"t <- tree_from(1:5) sum_m <- MeasureMonoid(`+`, 0, as.numeric) reduce_left(t, sum_m) #> [1] 15  cat_m <- MeasureMonoid(paste0, \"\", as.character) reduce_left(tree_from(letters[1:4]), cat_m) #> [1] \"abcd\""},{"path":"https://oneilsh.github.io/immutables/reference/reduce_right.html","id":null,"dir":"Reference","previous_headings":"","what":"Reduce from the right — reduce_right","title":"Reduce from the right — reduce_right","text":"Reduce right","code":""},{"path":"https://oneilsh.github.io/immutables/reference/reduce_right.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reduce from the right — reduce_right","text":"","code":"reduce_right(t, monoid)"},{"path":"https://oneilsh.github.io/immutables/reference/reduce_right.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reduce from the right — reduce_right","text":"t FingerTree. monoid `MeasureMonoid` object.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/reduce_right.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reduce from the right — reduce_right","text":"Reduced value.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/reduce_right.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reduce from the right — reduce_right","text":"","code":"t <- tree_from(1:5) sum_m <- MeasureMonoid(`+`, 0, as.numeric) reduce_right(t, sum_m) #> [1] 15  cat_m <- MeasureMonoid(paste0, \"\", as.character) reduce_right(tree_from(letters[1:4]), cat_m) #> [1] \"abcd\""},{"path":"https://oneilsh.github.io/immutables/reference/seq_apply.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply a Function to Each Sequence Element — seq_apply","title":"Apply a Function to Each Sequence Element — seq_apply","text":"Maps `f` elements `flexseq` returns new `flexseq`. Traversal linear, rebuild uses standard tree construction.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/seq_apply.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply a Function to Each Sequence Element — seq_apply","text":"","code":"seq_apply(x, f, preserve_monoids = FALSE, ...)"},{"path":"https://oneilsh.github.io/immutables/reference/seq_apply.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply a Function to Each Sequence Element — seq_apply","text":"x `flexseq`. f Function applied element. preserve_monoids Logical; `TRUE`, carries input monoids output. `FALSE` (default), output keeps invariant monoids (`.size`, `.named_count`). ... Additional arguments passed `f`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/seq_apply.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply a Function to Each Sequence Element — seq_apply","text":"`flexseq` transformed elements.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/seq_apply.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply a Function to Each Sequence Element — seq_apply","text":"","code":"x <- as_flexseq(1:5) seq_apply(x, function(v) v * 10) #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] 10 #>  #> [[2]] #> [1] 20 #>  #> [[3]] #> [1] 30 #>  #> [[4]] #> [1] 40 #>  #> [[5]] #> [1] 50 #>   xn <- as_flexseq(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) seq_apply(xn, function(v) v + 1) #> FingerTree <size=3, named=yes> #>   monoids: none #>  #> $a #> [1] 2 #>  #> $b #> [1] 3 #>  #> $c #> [1] 4 #>"},{"path":"https://oneilsh.github.io/immutables/reference/seq_walk.html","id":null,"dir":"Reference","previous_headings":"","what":"Walk a Function Over Sequence Elements — seq_walk","title":"Walk a Function Over Sequence Elements — seq_walk","text":"Applies `f` element left--right order side effects.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/seq_walk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Walk a Function Over Sequence Elements — seq_walk","text":"","code":"seq_walk(x, f, ...)"},{"path":"https://oneilsh.github.io/immutables/reference/seq_walk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Walk a Function Over Sequence Elements — seq_walk","text":"x `flexseq`. f Function applied element. ... Additional arguments passed `f`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/seq_walk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Walk a Function Over Sequence Elements — seq_walk","text":"Invisibly returns `x`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/seq_walk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Walk a Function Over Sequence Elements — seq_walk","text":"","code":"x <- as_flexseq(1:4) seq_walk(x, function(v) cat(v, \"\\\\n\")) #> 1 \\n2 \\n3 \\n4 \\n"},{"path":"https://oneilsh.github.io/immutables/reference/split.html","id":null,"dir":"Reference","previous_headings":"","what":"Split tree into left and right parts — split","title":"Split tree into left and right parts — split","text":"Split tree left right parts","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split tree into left and right parts — split","text":"","code":"split(t, predicate, monoid_name)"},{"path":"https://oneilsh.github.io/immutables/reference/split.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split tree into left and right parts — split","text":"t FingerTree. predicate Function measure values. monoid_name Name monoid `attr(t, \"monoids\")`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split tree into left and right parts — split","text":"list `left` `right`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split tree into left and right parts — split","text":"","code":"t <- tree_from(letters[1:6]) #> Error in tree_from(letters[1:6]): could not find function \"tree_from\" s <- split(t, function(v) v >= 4, \".size\") #> Error in (structure(function (t, required) {    ms <- attr(t, \"monoids\", exact = TRUE)    if (required && is.null(ms)) {        stop(\"Tree has no monoids attribute.\")    }    if (is.null(ms)) {        return(NULL)    }    if (isTRUE(getOption(\"immutables.validate_monoids\", FALSE))) {        return(ensure_size_monoids(ms))    }    ms}, topenv = \"<environment: namespace:immutables> \", name = \"resolve_tree_monoids\"))(t = function (x) UseMethod(\"t\"), required = TRUE): Tree has no monoids attribute. attr(s$left, \"measures\")$.size #> Error: object 's' not found attr(s$right, \"measures\")$.size #> Error: object 's' not found  cat_m <- MeasureMonoid(paste0, \"\", as.character) #> Error in MeasureMonoid(paste0, \"\", as.character): could not find function \"MeasureMonoid\" fold_left(s$left, cat_m) #> Error: object 's' not found fold_left(s$right, cat_m) #> Error: object 's' not found"},{"path":"https://oneilsh.github.io/immutables/reference/split_around_by_predicate.html","id":null,"dir":"Reference","previous_headings":"","what":"Split Around First Predicate Flip — split_around_by_predicate","title":"Split Around First Predicate Flip — split_around_by_predicate","text":"Splits sequence left context, matched element, right context first point `predicate` becomes `TRUE` accumulated monoid measures.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split_around_by_predicate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split Around First Predicate Flip — split_around_by_predicate","text":"","code":"split_around_by_predicate(t, predicate, monoid_name, accumulator = NULL)"},{"path":"https://oneilsh.github.io/immutables/reference/split_around_by_predicate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split Around First Predicate Flip — split_around_by_predicate","text":"t `flexseq`. predicate Function accumulated measure values. monoid_name Name monoid `attr(t, \"monoids\")`. accumulator Optional starting measure (defaults monoid identity).","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split_around_by_predicate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split Around First Predicate Flip — split_around_by_predicate","text":"list `left`, `elem`, `right`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split_around_by_predicate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split Around First Predicate Flip — split_around_by_predicate","text":"","code":"x <- as_flexseq(letters[1:6]) x #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\" #>   s <- split_around_by_predicate(x, function(v) v >= 4, \".size\") s$elem #> [1] \"d\" s$left #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  s$right #> FingerTree <size=2, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"e\" #>  #> [[2]] #> [1] \"f\" #>"},{"path":"https://oneilsh.github.io/immutables/reference/split_at.html","id":null,"dir":"Reference","previous_headings":"","what":"Split by Scalar Index or Name — split_at","title":"Split by Scalar Index or Name — split_at","text":"Splits element position (`.size` measure) resolving `` single index. `` can positive scalar integer index scalar character name.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split_at.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split by Scalar Index or Name — split_at","text":"","code":"split_at(x, at, pull_index = FALSE)"},{"path":"https://oneilsh.github.io/immutables/reference/split_at.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split by Scalar Index or Name — split_at","text":"x `flexseq`. Positive scalar integer index scalar character name. pull_index Logical switch two-way three-way split shape. `TRUE`, uses [split_by_predicate()] returns `list(left, right)`. `FALSE`, uses [split_around_by_predicate()] returns `list(left, elem, right)`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split_at.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split by Scalar Index or Name — split_at","text":"split list, shape controlled `pull_index`.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split_at.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split by Scalar Index or Name — split_at","text":"","code":"x <- as_flexseq(setNames(as.list(letters[1:6]), LETTERS[1:6])) split_at(x, 3) #> $left #> FingerTree <size=2, named=yes> #>   monoids: none #>  #> $A #> [1] \"a\" #>  #> $B #> [1] \"b\" #>  #>  #> $elem #> [1] \"c\" #> attr(,\"ft_name\") #> [1] \"C\" #>  #> $right #> FingerTree <size=3, named=yes> #>   monoids: none #>  #> $D #> [1] \"d\" #>  #> $E #> [1] \"e\" #>  #> $F #> [1] \"f\" #>  #>  split_at(x, \"C\", pull_index = TRUE) #> $left #> FingerTree <size=2, named=yes> #>   monoids: none #>  #> $A #> [1] \"a\" #>  #> $B #> [1] \"b\" #>  #>  #> $right #> FingerTree <size=4, named=yes> #>   monoids: none #>  #> $C #> [1] \"c\" #>  #> $D #> [1] \"d\" #>  #> $E #> [1] \"e\" #>  #> $F #> [1] \"f\" #>  #>"},{"path":"https://oneilsh.github.io/immutables/reference/split_by_predicate.html","id":null,"dir":"Reference","previous_headings":"","what":"Split a flexseq into Left and Right Parts by Predicate — split_by_predicate","title":"Split a flexseq into Left and Right Parts by Predicate — split_by_predicate","text":"Splits sequence point predicate first becomes TRUE accumulated monoid measures.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split_by_predicate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split a flexseq into Left and Right Parts by Predicate — split_by_predicate","text":"","code":"split_by_predicate(x, predicate, monoid_name)"},{"path":"https://oneilsh.github.io/immutables/reference/split_by_predicate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split a flexseq into Left and Right Parts by Predicate — split_by_predicate","text":"x `flexseq`. predicate Predicate function accumulated measure values. monoid_name Character scalar naming monoid scan.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split_by_predicate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split a flexseq into Left and Right Parts by Predicate — split_by_predicate","text":"list `left` `right` flexseq objects.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/split_by_predicate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split a flexseq into Left and Right Parts by Predicate — split_by_predicate","text":"","code":"x <- as_flexseq(letters[1:6]) x #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\" #>   s <- split_by_predicate(x, function(v) v >= 4, \".size\") s$left #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  s$right #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"d\" #>  #> [[2]] #> [1] \"e\" #>  #> [[3]] #> [1] \"f\" #>"},{"path":"https://oneilsh.github.io/immutables/reference/sub-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset a finger tree by position or element name — [.FingerTree","title":"Subset a finger tree by position or element name — [.FingerTree","text":"Subset finger tree position element name","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset a finger tree by position or element name — [.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x[i, ...]"},{"path":"https://oneilsh.github.io/immutables/reference/sub-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset a finger tree by position or element name — [.FingerTree","text":"x FingerTree. Positive integer indices, character element names, logical mask. ... Unused.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset a finger tree by position or element name — [.FingerTree","text":"new FingerTree containing selected elements query order.   character indexing, missing names represented `NULL` elements.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Subset a finger tree by position or element name — [.FingerTree","text":"","code":"t <- tree_from(letters[1:6]) #> Error in tree_from(letters[1:6]): could not find function \"tree_from\" s <- t[c(2, 4, 6)] #> Error in t[c(2, 4, 6)]: object of type 'closure' is not subsettable cat_m <- MeasureMonoid(paste0, \"\", as.character) #> Error in MeasureMonoid(paste0, \"\", as.character): could not find function \"MeasureMonoid\" fold_left(s, cat_m) #> Error: object 's' not found  # Empty index returns empty tree attr(t[integer(0)], \"measures\")$.size #> Error in t[integer(0)]: object of type 'closure' is not subsettable  # Character indexing by element names tn <- tree_from(setNames(as.list(letters[1:4]), c(\"w\", \"x\", \"y\", \"z\"))) #> Error in tree_from(setNames(as.list(letters[1:4]), c(\"w\", \"x\", \"y\", \"z\"))): could not find function \"tree_from\" out <- tn[c(\"y\", \"missing\", \"w\")] #> Error: object 'tn' not found fold_left(out, MeasureMonoid(paste0, \"\", function(el) if(is.null(el)) \"_\" else el)) #> Error: object 'out' not found  # Logical indexing with recycling t[c(TRUE, FALSE)] #> Error in t[c(TRUE, FALSE)]: object of type 'closure' is not subsettable"},{"path":"https://oneilsh.github.io/immutables/reference/sub-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset a flexseq by position or element name — [.flexseq","title":"Subset a flexseq by position or element name — [.flexseq","text":"Subset flexseq position element name","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset a flexseq by position or element name — [.flexseq","text":"","code":"# S3 method for class 'flexseq' x[i, ...]"},{"path":"https://oneilsh.github.io/immutables/reference/sub-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset a flexseq by position or element name — [.flexseq","text":"x `flexseq`. Positive integer indices, character element names, logical mask. ... Unused.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset a flexseq by position or element name — [.flexseq","text":"new `flexseq` containing selected elements query order.   character indexing, missing names represented `NULL` elements.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Subset a flexseq by position or element name — [.flexseq","text":"","code":"x <- as_flexseq(letters[1:6]) x #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\" #>   x2 <- x[c(2, 4, 6)] x2 #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"b\" #>  #> [[2]] #> [1] \"d\" #>  #> [[3]] #> [1] \"f\" #>   # named lookups return NULL for missing names x3 <- as_flexseq(setNames(as.list(letters[1:4]), c(\"w\", \"x\", \"y\", \"z\"))) x4 <- x3[c(\"y\", \"missing\", \"w\")] x4 #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"c\" #>  #> [[2]] #> NULL #>  #> [[3]] #> [1] \"a\" #>   # logical indexing supports recycling x[c(TRUE, FALSE)] #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"c\" #>  #> [[3]] #> [1] \"e\" #>"},{"path":"https://oneilsh.github.io/immutables/reference/sub-sub-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract one element by position or unique name — [[.FingerTree","title":"Extract one element by position or unique name — [[.FingerTree","text":"Extract one element position unique name","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-sub-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract one element by position or unique name — [[.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x[[i, ...]]"},{"path":"https://oneilsh.github.io/immutables/reference/sub-sub-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract one element by position or unique name — [[.FingerTree","text":"x FingerTree. Positive scalar integer index, scalar character element name. ... Unused.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-sub-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract one element by position or unique name — [[.FingerTree","text":"extracted element (internal name metadata removed).","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-sub-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract one element by position or unique name — [[.FingerTree","text":"","code":"t <- tree_from(letters[1:5]) #> Error in tree_from(letters[1:5]): could not find function \"tree_from\" t[[3]] #> Error in t[[3]]: object of type 'closure' is not subsettable  tn <- tree_from(setNames(as.list(letters[1:3]), c(\"a1\", \"a2\", \"a3\"))) #> Error in tree_from(setNames(as.list(letters[1:3]), c(\"a1\", \"a2\", \"a3\"))): could not find function \"tree_from\" tn[[\"a2\"]] #> Error: object 'tn' not found"},{"path":"https://oneilsh.github.io/immutables/reference/sub-sub-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract one element by position or unique name — [[.flexseq","title":"Extract one element by position or unique name — [[.flexseq","text":"Extract one element position unique name","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-sub-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract one element by position or unique name — [[.flexseq","text":"","code":"# S3 method for class 'flexseq' x[[i, ...]]"},{"path":"https://oneilsh.github.io/immutables/reference/sub-sub-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract one element by position or unique name — [[.flexseq","text":"x `flexseq`. Positive scalar integer index, scalar character element name. ... Unused.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-sub-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract one element by position or unique name — [[.flexseq","text":"extracted element (internal name metadata removed).","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-sub-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract one element by position or unique name — [[.flexseq","text":"","code":"x <- as_flexseq(letters[1:5]) x[[3]] #> [1] \"c\"  x2 <- as_flexseq(setNames(as.list(letters[1:3]), c(\"a1\", \"a2\", \"a3\"))) x2[[\"a2\"]] #> [1] \"b\""},{"path":"https://oneilsh.github.io/immutables/reference/sub-subset-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace one element by position or unique name — [[<-.FingerTree","title":"Replace one element by position or unique name — [[<-.FingerTree","text":"Replace one element position unique name","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-subset-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace one element by position or unique name — [[<-.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x[[i]] <- value"},{"path":"https://oneilsh.github.io/immutables/reference/sub-subset-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace one element by position or unique name — [[<-.FingerTree","text":"x FingerTree. Positive scalar integer index, scalar character element name. value Replacement element.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-subset-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace one element by position or unique name — [[<-.FingerTree","text":"new FingerTree one element replaced.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-subset-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace one element by position or unique name — [[<-.FingerTree","text":"","code":"t <- tree_from(letters[1:4]) #> Error in tree_from(letters[1:4]): could not find function \"tree_from\" t[[2]] <- \"ZZ\" #> Error in t[[2]] <- \"ZZ\": object of type 'closure' is not subsettable cat_m <- MeasureMonoid(paste0, \"\", as.character) #> Error in MeasureMonoid(paste0, \"\", as.character): could not find function \"MeasureMonoid\" fold_left(t, cat_m) #> Error in UseMethod(\"fold_left\"): no applicable method for 'fold_left' applied to an object of class \"function\"  tn <- tree_from(setNames(as.list(1:3), c(\"x\", \"y\", \"z\"))) #> Error in tree_from(setNames(as.list(1:3), c(\"x\", \"y\", \"z\"))): could not find function \"tree_from\" tn[[\"y\"]] <- 99 #> Error: object 'tn' not found  # Assigning NULL removes an element (by index or name) t <- tree_from(letters[1:4]) #> Error in tree_from(letters[1:4]): could not find function \"tree_from\" t[[2]] <- NULL #> Error in t[[2]] <- NULL: object of type 'closure' is not subsettable tn <- tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) #> Error in tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))): could not find function \"tree_from\" tn[[\"b\"]] <- NULL #> Error: object 'tn' not found"},{"path":"https://oneilsh.github.io/immutables/reference/sub-subset-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace one element by position or unique name — [[<-.flexseq","title":"Replace one element by position or unique name — [[<-.flexseq","text":"Replace one element position unique name","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-subset-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace one element by position or unique name — [[<-.flexseq","text":"","code":"# S3 method for class 'flexseq' x[[i]] <- value"},{"path":"https://oneilsh.github.io/immutables/reference/sub-subset-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace one element by position or unique name — [[<-.flexseq","text":"x `flexseq`. Positive scalar integer index, scalar character element name. value Replacement element.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-subset-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace one element by position or unique name — [[<-.flexseq","text":"new `flexseq` one element replaced.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/sub-subset-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace one element by position or unique name — [[<-.flexseq","text":"","code":"x <- as_flexseq(letters[1:4]) x2 <- x x2[[2]] <- \"ZZ\" x2 #> FingerTree <size=4, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"ZZ\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>   x3 <- as_flexseq(setNames(as.list(1:3), c(\"x\", \"y\", \"z\"))) x3[[\"y\"]] <- 99 x3 #> FingerTree <size=3, named=yes> #>   monoids: none #>  #> $x #> [1] 1 #>  #> $y #> [1] 99 #>  #> $z #> [1] 3 #>   # assigning NULL removes one element x4 <- as_flexseq(letters[1:4]) x4[[2]] <- NULL x4 #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"c\" #>  #> [[3]] #> [1] \"d\" #>"},{"path":"https://oneilsh.github.io/immutables/reference/subset-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace selected elements by position or name — [<-.FingerTree","title":"Replace selected elements by position or name — [<-.FingerTree","text":"Replace selected elements position name","code":""},{"path":"https://oneilsh.github.io/immutables/reference/subset-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace selected elements by position or name — [<-.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x[i] <- value"},{"path":"https://oneilsh.github.io/immutables/reference/subset-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace selected elements by position or name — [<-.FingerTree","text":"x FingerTree. Positive integer indices, character names, logical mask. value Replacement values; must exactly length ``.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/subset-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace selected elements by position or name — [<-.FingerTree","text":"new FingerTree selected elements replaced.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/subset-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace selected elements by position or name — [<-.FingerTree","text":"","code":"t <- tree_from(1:6) #> Error in tree_from(1:6): could not find function \"tree_from\" t[c(2, 5)] <- list(20, 50) #> Error in t[c(2, 5)] <- list(20, 50): object of type 'closure' is not subsettable sum_m <- MeasureMonoid(`+`, 0, as.numeric) #> Error in MeasureMonoid(`+`, 0, as.numeric): could not find function \"MeasureMonoid\" fold_left(t, sum_m) #> Error in UseMethod(\"fold_left\"): no applicable method for 'fold_left' applied to an object of class \"function\"  # Replacement length must match try(t[c(1, 2)] <- list(999)) #> Error in t[c(1, 2)] <- list(999) :  #>   object of type 'closure' is not subsettable  # Character replacement by element names (missing names error) tn <- tree_from(setNames(as.list(1:4), c(\"a\", \"b\", \"c\", \"d\"))) #> Error in tree_from(setNames(as.list(1:4), c(\"a\", \"b\", \"c\", \"d\"))): could not find function \"tree_from\" tn[c(\"d\", \"a\")] <- list(40, 10) #> Error: object 'tn' not found  # Logical replacement with recycling t[c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)] <- list(1) #> Error in t[c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)] <- list(1): object of type 'closure' is not subsettable"},{"path":"https://oneilsh.github.io/immutables/reference/subset-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace selected elements by position or name — [<-.flexseq","title":"Replace selected elements by position or name — [<-.flexseq","text":"Replace selected elements position name","code":""},{"path":"https://oneilsh.github.io/immutables/reference/subset-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace selected elements by position or name — [<-.flexseq","text":"","code":"# S3 method for class 'flexseq' x[i] <- value"},{"path":"https://oneilsh.github.io/immutables/reference/subset-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace selected elements by position or name — [<-.flexseq","text":"x `flexseq`. Positive integer indices, character names, logical mask. value Replacement values; must exactly length ``.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/subset-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace selected elements by position or name — [<-.flexseq","text":"new `flexseq` selected elements replaced.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/subset-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace selected elements by position or name — [<-.flexseq","text":"","code":"x <- as_flexseq(1:6) x #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>  #> [[6]] #> [1] 6 #>   x2 <- x x2[c(2, 5)] <- list(20, 50) x2 #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 20 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 50 #>  #> [[6]] #> [1] 6 #>   # character replacement uses element names x3 <- as_flexseq(setNames(as.list(1:4), c(\"a\", \"b\", \"c\", \"d\"))) x3[c(\"d\", \"a\")] <- list(40, 10) x3 #> FingerTree <size=4, named=yes> #>   monoids: none #>  #> $a #> [1] 10 #>  #> $b #> [1] 2 #>  #> $c #> [1] 3 #>  #> $d #> [1] 40 #>   # logical replacement supports recycling x4 <- x x4[c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)] <- list(1) x4 #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 1 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 1 #>  #> [[6]] #> [1] 6 #>"},{"path":"https://oneilsh.github.io/immutables/reference/tree_from.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a Structural Tree from a Vector or List — tree_from","title":"Build a Structural Tree from a Vector or List — tree_from","text":"Build Structural Tree Vector List","code":""},{"path":"https://oneilsh.github.io/immutables/reference/tree_from.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a Structural Tree from a Vector or List — tree_from","text":"","code":"tree_from(x, monoids = NULL)"},{"path":"https://oneilsh.github.io/immutables/reference/tree_from.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a Structural Tree from a Vector or List — tree_from","text":"x Elements insert. monoids Optional named list `measure_monoid` objects.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/tree_from.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a Structural Tree from a Vector or List — tree_from","text":"finger tree cached measures monoids.   `x` names, used name-based indexing must   complete (missing/empty names) unique.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/tree_from.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build a Structural Tree from a Vector or List — tree_from","text":"","code":"if (FALSE) { # \\dontrun{ t <- tree_from(letters[1:4]) t[[2]] } # }"},{"path":"https://oneilsh.github.io/immutables/reference/validate_name_state.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate name-state invariants only (debug/test utility) — validate_name_state","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"Checks trees either fully unnamed fully named unique, non-empty names.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/validate_name_state.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"","code":"validate_name_state(t)"},{"path":"https://oneilsh.github.io/immutables/reference/validate_name_state.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"t FingerTree.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/validate_name_state.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"`TRUE` invisibly; errors name invariants violated.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/validate_name_state.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"Intended debugging tests, hot runtime paths.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/validate_name_state.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"","code":"x <- as_flexseq(setNames(as.list(letters[1:4]), letters[1:4])) validate_name_state(x)"},{"path":"https://oneilsh.github.io/immutables/reference/validate_tree.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate full tree invariants (debug/test utility) — validate_tree","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"Performs expensive full-tree auditing : - structural attributes (`monoids`/`measures`) consistency - global name-state invariants","code":""},{"path":"https://oneilsh.github.io/immutables/reference/validate_tree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"","code":"validate_tree(t)"},{"path":"https://oneilsh.github.io/immutables/reference/validate_tree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"t FingerTree.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/validate_tree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"`TRUE` invisibly; errors invariant violations found.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/validate_tree.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"Intended debugging tests, hot runtime paths.","code":""},{"path":"https://oneilsh.github.io/immutables/reference/validate_tree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"","code":"x <- as_flexseq(letters[1:10]) validate_tree(x)"}]
