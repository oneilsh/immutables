[{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":null,"dir":"","previous_headings":"","what":"CRAN Cleanup Plan — Detailed Implementation Guide","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"document provides step--step instructions change. Follow execution order exactly. code changes, run roxygen2::roxygenise() regenerate NAMESPACE man/ pages, run R CMD check. file paths relative package root: /Users/oneilsh/Documents/projects/r_stuff/functional_stuff/immutables","code":""},{"path":[]},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_11-remove-lazydata-true-from-description","dir":"","previous_headings":"Phase 1: Trivial fixes (Items 3, 7, 9, 13)","what":"1.1 Remove LazyData: true from DESCRIPTION","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: DESCRIPTION Remove line LazyData: true (currently line 15). package data/ directory; line produces R CMD check NOTE.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_12-add-meta-to-rbuildignore","dir":"","previous_headings":"Phase 1: Trivial fixes (Items 3, 7, 9, 13)","what":"1.2 Add meta/ to .Rbuildignore","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: .Rbuildignore Append line end file: (^meta$ pattern sufficient R’s build ignore treats directory match.)","code":"^meta$"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_13-add-bugreports-to-description","dir":"","previous_headings":"Phase 1: Trivial fixes (Items 3, 7, 9, 13)","what":"1.3 Add BugReports to DESCRIPTION","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: DESCRIPTION Add following line existing URL: line (currently line 4):","code":"BugReports: https://github.com/oneilsh/immutables/issues"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_14-delete-placeholder-file","dir":"","previous_headings":"Phase 1: Trivial fixes (Items 3, 7, 9, 13)","what":"1.4 Delete placeholder file","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"Delete: R/fingertree_measured.R file contains TODO comment. Remove entirely.","code":""},{"path":[]},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_21-remove-measuremonoid-alias-function","dir":"","previous_headings":"Phase 2: Remove PascalCase aliases (Item 12)","what":"2.1 Remove MeasureMonoid alias function","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: R/MeasureMonoid.R file currently defines two functions. Remove MeasureMonoid alias (lines 24-27). file end measure_monoid() definition (line 22). Keep measure_monoid function roxygen block entirely intact. (lines 23-27): : Delete lines entirely.","code":"# Runtime: O(1). MeasureMonoid <- function(f, i, measure) {   measure_monoid(f, i, measure) }"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_22-update-internal-callers-of-measuremonoid","dir":"","previous_headings":"Phase 2: Remove PascalCase aliases (Item 12)","what":"2.2 Update internal callers of MeasureMonoid()","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"internal code calls MeasureMonoid() exactly two places. inside lambda.r-typed functions class name \"MeasureMonoid\" %::% type annotations must changed — function calls. File: R/measured.R, line 17: Change: MeasureMonoid(function(, b) + b, 0, function(el) 1) : measure_monoid(function(, b) + b, 0, function(el) 1) File: R/measured.R, line 24: Change: MeasureMonoid(function(, b) + b, 0L, function(el) { : measure_monoid(function(, b) + b, 0L, function(el) { IMPORTANT: change: - \"MeasureMonoid\" string class() assignment R/MeasureMonoid.R:20. class name used inherits() checks, function call. - %::% ... : MeasureMonoid : . type annotations R/fold_left.R, R/fold_right.R, R/measured.R, R/locate_impl.R. lambda.r type annotations referencing class, function. - inherits(r, \"MeasureMonoid\") check R/measured.R:4.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_23-remove-predicate-alias-function","dir":"","previous_headings":"Phase 2: Remove PascalCase aliases (Item 12)","what":"2.3 Remove Predicate alias function","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: R/Predicate.R Remove Predicate alias (lines 22-25). file end predicate() function definition (line 20). (lines 22-25): : Delete lines entirely.","code":"# Runtime: O(1). Predicate <- function(f) {   predicate(f) }"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_24-update-test-referencing-predicate","dir":"","previous_headings":"Phase 2: Remove PascalCase aliases (Item 12)","what":"2.4 Update test referencing Predicate","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: tests/testthat/test-cpp-parity.R Line 79: test name says \"backend parity: Predicate constructor/use\". Change \"backend parity: predicate constructor/use\". test body already uses predicate() (lowercase) line 81 — code change needed inside test, just description string.","code":""},{"path":[]},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_31-replace-listprepend-and-listappend-calls","dir":"","previous_headings":"Phase 3: Eliminate rlist dependency (Item 6)","what":"3.1 Replace list.prepend and list.append calls","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"exactly 3 call sites. Replace base R: File: R/add_left.R, line 26: Change: newd <- list.prepend(d, el) : newd <- c(list(el), d) (surrounding code lines 25 27 already saves/restores class attributes, replacement safe.) File: R/add_right.R, line 23: Change: newd <- list.append(d, el) : newd <- c(d, list(el)) (pattern — class restored line 24.) File: R/utils.R, line 189: Change: rest = list.prepend(rest, first) : rest = c(list(first), rest)","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_32-remove-rlist-from-package-imports","dir":"","previous_headings":"Phase 3: Eliminate rlist dependency (Item 6)","what":"3.2 Remove rlist from package imports","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: R/fingertree-package.R, line 7: Delete line: #' @import rlist File: DESCRIPTION: Remove rlist, Imports: section (currently line 19). Ensure remaining imports correct comma formatting: (Note: igraph moves Suggests Phase 4, Phase 3 first.)","code":"Imports:     Rcpp,     lambda.r,     igraph"},{"path":[]},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_41-move-igraph-in-description","dir":"","previous_headings":"Phase 4: Move igraph to Suggests (Item 5)","what":"4.1 Move igraph in DESCRIPTION","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: DESCRIPTION Remove igraph Imports: (Phase 3 last entry). Add Suggests: (currently lists pkgdown testthat). Result:","code":"Imports:     Rcpp,     lambda.r Suggests:     igraph,     pkgdown,     testthat (>= 3.0.0)"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_42-remove-import-igraph-from-package-declaration","dir":"","previous_headings":"Phase 4: Move igraph to Suggests (Item 5)","what":"4.2 Remove @import igraph from package declaration","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: R/fingertree-package.R, line 8: Delete line: #' @import igraph Phase 3 4.2, file look like:","code":"#' immutables #' #' Monoid-annotated 2-3 finger trees. #' #' @keywords internal #' @import lambda.r #' @importFrom Rcpp evalCpp #' @useDynLib immutables, .registration = TRUE \"_PACKAGE\""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_43-add-requirenamespace-guard-to-plot_tree","dir":"","previous_headings":"Phase 4: Move igraph to Suggests (Item 5)","what":"4.3 Add requireNamespace guard to plot_tree()","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: R/utils.R plot_tree() function (starts line 125), add guard beginning function body, code (line 127):","code":"if(!requireNamespace(\"igraph\", quietly = TRUE)) {     stop(\"Package 'igraph' is required for plot_tree(). Install it with install.packages('igraph').\")   }"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_44-namespace-qualify-igraph-function-calls-in-plot_tree","dir":"","previous_headings":"Phase 4: Move igraph to Suggests (Item 5)","what":"4.4 Namespace-qualify igraph function calls in plot_tree()","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"function, qualify igraph calls: Line 139: Change graph_from_data_frame(...) igraph::graph_from_data_frame(...) Line 145: Change vcount(g) igraph::vcount(g) Line 147: Change V(g)$type igraph::V(g)$type Line 149: Change V(g)$label igraph::V(g)$label (occurrences line); also V(g)$type Line 151: Change V(g)$label igraph::V(g)$label Line 155: Change layout_as_tree(g) igraph::layout_as_tree(g)","code":""},{"path":[]},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_51-convert-split-to-splitflexseq","dir":"","previous_headings":"Phase 5: Convert split and append to S3 methods (Item 4)","what":"5.1 Convert split to split.flexseq","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: R/split.R Replace entire file contents. key changes: - Roxygen: add @method split flexseq tag - Remove @export standalone function (S3method instead) - Rename parameters: t → x, predicate → f, third arg via ... - monoid_name extracted ... (first positional element ...) Replace file : NAMESPACE effect: roxygenise(), NAMESPACE contain S3method(split,flexseq) instead export(split). existing S3method(split,flexseq) present added.","code":"#' Split a flexseq into left and right parts #' #' Splits a sequence at the point where the predicate first becomes TRUE on #' accumulated monoid measures. #' #' @method split flexseq #' @param x A `flexseq`. #' @param f Predicate function on accumulated measure values. #' @param ... Additional arguments. The first positional argument is #'   `monoid_name` (character scalar naming the monoid to scan). #' @return A list with `left` and `right` flexseq objects. #' @examples #' t <- as_flexseq(letters[1:6]) #' s <- split(t, function(v) v >= 4, \".size\") #' length(s$left) #' length(s$right) #' @export # Runtime: O(log n) near split point depth. split.flexseq <- function(x, f, ...) {   dots <- list(...)   if(length(dots) < 1L || !is.character(dots[[1L]])) {     stop(\"`monoid_name` (character) is required as the third argument to split().\")   }   monoid_name <- dots[[1L]]    ctx <- resolve_named_monoid(x, monoid_name)   ms <- ctx$monoids   mr <- ctx$monoid    if(x %isa% Empty) {     return(list(left = .as_flexseq(measured_empty(ms)), right = .as_flexseq(measured_empty(ms))))   }    if(f(node_measure(x, monoid_name))) {     s <- if(.ft_cpp_can_use(ms)) {       .ft_cpp_split_tree(x, f, ms, monoid_name, mr$i)     } else {       split_tree_impl_fast(f, mr$i, x, ms, mr, monoid_name)     }     right <- prepend(s$right, s$elem)     return(list(left = .as_flexseq(s$left), right = .as_flexseq(right)))   }    list(left = .as_flexseq(x), right = .as_flexseq(measured_empty(ms))) }"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_52-convert-append-to-s3-generic--appendflexseq","dir":"","previous_headings":"Phase 5: Convert split and append to S3 methods (Item 4)","what":"5.2 Convert append to S3 generic + append.flexseq","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: R/append.R Replace entire file contents. key changes: - Define append new S3 generic UseMethod - Provide append.default delegates base::append - Provide append.flexseq wraps current implementation - Parameter names: x (tree), values (element append) Replace file : NAMESPACE effect: roxygenise(), NAMESPACE contain: - export(append) (generic) - S3method(append,default) - S3method(append,flexseq)","code":"#' Append elements #' #' Generic function for appending. The default method calls [base::append()]. #' The flexseq method appends a single element to the right side of a #' persistent sequence. #' #' @param x Object to append to. #' @param ... Method-specific arguments. #' @return Updated object. #' @export append <- function(x, ...) {   UseMethod(\"append\") }  #' @rdname append #' @param values Values to append (for default method, passed to [base::append()]). #' @param after Position after which to insert (for default method). #' @export append.default <- function(x, values, after = length(x), ...) {   base::append(x, values, after) }  #' Append an element to a flexseq #' #' @method append flexseq #' @param x A `flexseq`. #' @param values Element to append. #' @param ... Unused. #' @return Updated `flexseq`. #' @examples #' t <- as_flexseq(letters[1:3]) #' t2 <- append(t, \"d\") #' t2[[4]] #' #' # Append to a named sequence #' tn <- as_flexseq(setNames(as.list(1:2), c(\"a\", \"b\"))) #' tn2 <- append(tn, stats::setNames(3, \"c\")) #' tn2[[\"c\"]] #' @export # Runtime: O(log n) tree update, with O(1) local name-state checks. append.flexseq <- function(x, values, ...) {   ms <- attr(x, \"monoids\", exact = TRUE)   if(is.null(ms)) {     stop(\"Tree has no monoids attribute.\")   }   m <- attr(x, \"measures\", exact = TRUE)   if(is.null(m)) {     stop(\"Tree has no measures attribute.\")   }   n <- as.integer(m[[\".size\"]])   nn <- as.integer(m[[\".named_count\"]])   # Runtime: O(1). Enforce non-mixed naming invariant without full traversal.   if(n > 0L && nn != 0L && nn != n) {     stop(\"Invalid tree name state: mixed named/unnamed elements.\")   }    x2 <- values   if(nn == 0L) {     # Fast unnamed path: avoid attr writes when incoming element is also unnamed.     nm <- .ft_get_name(values)     if(is.null(nm)) {       nm <- .ft_name_from_value(values)     }     if(is.null(nm)) {       if(.ft_cpp_can_use(ms)) {         return(.as_flexseq(.ft_cpp_add_right(x, x2, ms)))       }       return(.as_flexseq(.add_right_fast(x, x2, ms)))     }     if(n > 0L) {       stop(\"Cannot mix named and unnamed elements (append would create mixed named and unnamed tree).\")     }     if(.ft_cpp_can_use(ms)) {       return(.as_flexseq(.ft_cpp_add_right_named(x, values, nm, ms)))     }     x2 <- .ft_set_name(x2, nm)   } else {     nm <- .ft_effective_name(values)     if(is.null(nm)) {       stop(\"Cannot mix named and unnamed elements (append would create mixed named and unnamed tree).\")     }     if(.ft_cpp_can_use(ms)) {       return(.as_flexseq(.ft_cpp_add_right_named(x, values, nm, ms)))     }     x2 <- .ft_set_name(x2, nm)   }    if(.ft_cpp_can_use(ms)) {     return(.as_flexseq(.ft_cpp_add_right(x, x2, ms)))   }   .as_flexseq(.add_right_fast(x, x2, ms)) }"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_53-update-internal-callers-of-append","dir":"","previous_headings":"Phase 5: Convert split and append to S3 methods (Item 4)","what":"5.3 Update internal callers of append()","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"one internal call append() inside R/indexing.R: File: R/indexing.R, line 725: s$left flexseq (split_tree returns flexseq objects), call correctly dispatch append.flexseq. change needed. also one internal call R/priority_queue.R: File: R/priority_queue.R, line 164: q priority_queue inherits flexseq, append.flexseq found via S3 dispatch. change needed.","code":"left_plus <- append(s$left, value) q2 <- append(q, entry)"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_54-verify-test-call-sites","dir":"","previous_headings":"Phase 5: Convert split and append to S3 methods (Item 4)","what":"5.4 Verify test call sites","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"existing test calls like append(t, x) split(t, pred, \".size\") continue work : - append dispatches first arg’s class (flexseq) - split dispatches first arg’s class (flexseq) - Positional arguments unchanged test changes needed split append refactoring . test description line 79 test-cpp-parity.R (already changed Phase 2.4) test file edit far.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"phase-6-fix-all-examples-blocks-item-1","dir":"","previous_headings":"","what":"Phase 6: Fix all @examples blocks (Item 1)","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"Every @examples block must use exported, user-facing functions. Replace occurrences non-exported functions public equivalents. Rules: - MeasureMonoid(...) → measure_monoid(...) - tree_from(...) → as_flexseq(...) - Predicate(...) → predicate(...) - concat_trees(x, y) → c(x, y) (since flexseq c.flexseq exists) - empty_tree(...) → flexseq() (monoids needed: as_flexseq(list(), monoids = ...)) - get_graph_df(t) → wrap \\dontrun{} - plot_tree(t) → wrap \\dontrun{} exhaustive list files exact example replacements needed.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_61-rlocater-exported-function--examples-must-run","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.1 R/locate.R (exported function — examples MUST run)","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"Replace @examples block (lines 14-21): : :","code":"#' @examples #' t <- tree_from(letters[1:6]) #' locate(t, function(v) v >= 4, \".size\") #' #' # Metadata-rich locate for custom monoid #' sum_m <- MeasureMonoid(`+`, 0, as.numeric) #' t2 <- tree_from(1:6, monoids = list(sum = sum_m)) #' locate(t2, function(v) v >= 10, \"sum\", include_metadata = TRUE) #' @examples #' t <- as_flexseq(letters[1:6]) #' locate(t, function(v) v >= 4, \".size\") #' #' # Metadata-rich locate for custom monoid #' sum_m <- measure_monoid(`+`, 0, as.numeric) #' t2 <- as_flexseq(1:6, monoids = list(sum = sum_m)) #' locate(t2, function(v) v >= 10, \"sum\", include_metadata = TRUE)"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_62-rsplitr-already-rewritten-in-phase-51","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.2 R/split.R (already rewritten in Phase 5.1)","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"new file already correct examples using as_flexseq. action.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_63-rsplit_treer-exported-function--examples-must-run","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.3 R/split_tree.R (exported function — examples MUST run)","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"Replace @examples block (lines 8-15): : :","code":"#' @examples #' t <- tree_from(letters[1:6]) #' s <- split_tree(t, function(v) v >= 4, \".size\") #' s$elem #' #' cat_m <- MeasureMonoid(paste0, \"\", as.character) #' fold_left(s$left, cat_m) #' fold_left(s$right, cat_m) #' @examples #' t <- as_flexseq(letters[1:6]) #' s <- split_tree(t, function(v) v >= 4, \".size\") #' s$elem #' #' cat_m <- measure_monoid(paste0, \"\", as.character) #' fold_left(s$left, cat_m) #' fold_left(s$right, cat_m)"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_64-radd_monoidsr-exported-function--examples-must-run","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.4 R/add_monoids.R (exported function — examples MUST run)","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"Replace @examples block @param monoids description: Line 4, change @param description: Change: @param monoids Named list `MeasureMonoid` objects add. : @param monoids Named list `measure_monoid` objects add. Replace @examples block (lines 7-16): : :","code":"#' @examples #' t <- tree_from(1:5) #' sum_m <- MeasureMonoid(`+`, 0, as.numeric) #' t2 <- add_monoids(t, list(sum = sum_m)) #' attr(t2, \"measures\")$sum #' #' # Replace an existing monoid definition #' sum2 <- MeasureMonoid(function(a, b) a + 2 * b, 0, as.numeric) #' t3 <- add_monoids(t2, list(sum = sum2), overwrite = TRUE) #' attr(t3, \"measures\")$sum #' @examples #' t <- as_flexseq(1:5) #' sum_m <- measure_monoid(`+`, 0, as.numeric) #' t2 <- add_monoids(t, list(sum = sum_m)) #' attr(t2, \"measures\")$sum #' #' # Replace an existing monoid definition #' sum2 <- measure_monoid(function(a, b) a + 2 * b, 0, as.numeric) #' t3 <- add_monoids(t2, list(sum = sum2), overwrite = TRUE) #' attr(t3, \"measures\")$sum"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_65-rvalidater-exported-functions--examples-must-run","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.5 R/validate.R (exported functions — examples MUST run)","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"validate_tree example (line 12): Change: #' t <- tree_from(letters[1:10]) : #' t <- as_flexseq(letters[1:10]) validate_name_state example (line 32): Change: #' t <- tree_from(setNames(.list(letters[1:4]), letters[1:4])) : #' t <- as_flexseq(setNames(.list(letters[1:4]), letters[1:4]))","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_66-rdollarr-exported-functions--examples-must-run","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.6 R/dollar.R (exported functions — examples MUST run)","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"$.FingerTree example (line 21): Change: #' t <- tree_from(setNames(.list(1:3), c(\"\", \"b\", \"c\"))) : #' t <- as_flexseq(setNames(.list(1:3), c(\"\", \"b\", \"c\"))) $<-.FingerTree example (line 50): Change: #' t <- tree_from(setNames(.list(1:3), c(\"\", \"b\", \"c\"))) : #' t <- as_flexseq(setNames(.list(1:3), c(\"\", \"b\", \"c\")))","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_67-rindexingr-exported-functions--examples-must-run","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.7 R/indexing.R (exported functions — examples MUST run)","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"file many examples. Replace every tree_from MeasureMonoid: [.FingerTree examples (around lines 410-425): Line 411: Change #' t <- tree_from(letters[1:6]) #' t <- as_flexseq(letters[1:6]) Line 413: Change #' cat_m <- MeasureMonoid(paste0, \"\", .character) #' cat_m <- measure_monoid(paste0, \"\", .character) Line 420: Change #' tn <- tree_from(setNames(.list(letters[1:4]), c(\"w\", \"x\", \"y\", \"z\"))) #' tn <- as_flexseq(setNames(.list(letters[1:4]), c(\"w\", \"x\", \"y\", \"z\"))) Line 422: Change #' fold_left(, MeasureMonoid(paste0, \"\", function(el) (.null(el)) \"_\" else el)) #' fold_left(, measure_monoid(paste0, \"\", function(el) (.null(el)) \"_\" else el)) [[.FingerTree examples (around lines 486-490): Line 486: Change #' t <- tree_from(letters[1:5]) #' t <- as_flexseq(letters[1:5]) Line 489: Change #' tn <- tree_from(setNames(.list(letters[1:3]), c(\"a1\", \"a2\", \"a3\"))) #' tn <- as_flexseq(setNames(.list(letters[1:3]), c(\"a1\", \"a2\", \"a3\"))) [<-.FingerTree examples (around lines 521-534): Line 521: Change #' t <- tree_from(1:6) #' t <- as_flexseq(1:6) Line 523: Change #' sum_m <- MeasureMonoid(\\+`, 0, .numeric)#’ sum_m <- measure_monoid(`+`, 0, .numeric)Line 530: Change#’ tn <- tree_from(setNames(.list(1:4), c(“”, “b”, “c”, “d”)))#’ tn <- as_flexseq(setNames(.list(1:4), c(“”, “b”, “c”, “d”)))` [[<-.FingerTree examples (around lines 662-674): Line 662: Change #' t <- tree_from(letters[1:4]) #' t <- as_flexseq(letters[1:4]) Line 664: Change #' cat_m <- MeasureMonoid(paste0, \"\", .character) #' cat_m <- measure_monoid(paste0, \"\", .character) Line 667: Change #' tn <- tree_from(setNames(.list(1:3), c(\"x\", \"y\", \"z\"))) #' tn <- as_flexseq(setNames(.list(1:3), c(\"x\", \"y\", \"z\"))) Line 671: Change #' t <- tree_from(letters[1:4]) #' t <- as_flexseq(letters[1:4]) Line 673: Change #' tn <- tree_from(setNames(.list(1:3), c(\"\", \"b\", \"c\"))) #' tn <- as_flexseq(setNames(.list(1:3), c(\"\", \"b\", \"c\")))","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_68-rempty_treer-keywords-internal--wrap-examples-in-dontrun","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.8 R/empty_tree.R (@keywords internal — wrap examples in \\dontrun{})","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"Replace @examples block (lines 5-11): : : Also update @param description line 3: Change: @param monoids Optional named list `MeasureMonoid` objects. : @param monoids Optional named list `measure_monoid` objects.","code":"#' @examples #' t <- empty_tree() #' t #' #' count_m <- MeasureMonoid(`+`, 0, function(el) 1) #' t2 <- empty_tree(monoids = list(count = count_m)) #' attr(t2, \"measures\") #' @examples #' \\dontrun{ #' t <- empty_tree() #' t #' #' count_m <- measure_monoid(`+`, 0, function(el) 1) #' t2 <- empty_tree(monoids = list(count = count_m)) #' attr(t2, \"measures\") #' }"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_69-rconcat_treesr-keywords-internal--wrap-examples-in-dontrun","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.9 R/concat_trees.R (@keywords internal — wrap examples in \\dontrun{})","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"Replace @examples block (lines 9-21): : :","code":"#' @examples #' left <- tree_from(letters[1:3]) #' right <- tree_from(letters[4:6]) #' t <- concat_trees(left, right) #' cat_m <- MeasureMonoid(paste0, \"\", as.character) #' fold_left(t, cat_m) #' #' # Concatenate trees carrying a custom monoid #' sum_m <- MeasureMonoid(`+`, 0, as.numeric) #' a <- tree_from(1:3, monoids = list(sum = sum_m)) #' b <- tree_from(4:5, monoids = list(sum = sum_m)) #' t2 <- suppressWarnings(concat_trees(a, b)) #' attr(t2, \"measures\")$sum #' @examples #' \\dontrun{ #' left <- as_flexseq(letters[1:3]) #' right <- as_flexseq(letters[4:6]) #' t <- concat_trees(left, right) #' cat_m <- measure_monoid(paste0, \"\", as.character) #' fold_left(t, cat_m) #' }"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_610-rtree_fromr-keywords-internal--wrap-examples-in-dontrun","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.10 R/tree_from.R (@keywords internal — wrap examples in \\dontrun{})","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"Replace @examples block (lines 8-18): : :","code":"#' @examples #' t <- tree_from(letters[1:4]) #' t[[2]] #' #' sum_m <- measure_monoid(`+`, 0, as.numeric) #' t2 <- tree_from(1:5, monoids = list(sum = sum_m)) #' attr(t2, \"measures\") #' #' # Named elements support character indexing #' tn <- tree_from(setNames(as.list(letters[1:3]), c(\"k1\", \"k2\", \"k3\"))) #' tn[[\"k2\"]] #' @examples #' \\dontrun{ #' t <- tree_from(letters[1:4]) #' t[[2]] #' }"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_611-rutilsr--get_graph_df-and-plot_tree-keywords-internal","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.11 R/utils.R — get_graph_df and plot_tree (@keywords internal)","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"get_graph_df examples (lines 7-15): Replace: : plot_tree examples (lines 115-122): already wrapped \\dontrun{}. Update tree_from references: Line 117: Change #' t <- tree_from(letters[1:8]) #' t <- as_flexseq(letters[1:8]) Line 120: Change #' t2 <- tree_from(letters[1:12]) #' t2 <- as_flexseq(letters[1:12])","code":"#' @examples #' t <- tree_from(letters[1:4]) #' gdf <- get_graph_df(t) #' names(gdf) #' nrow(gdf[[1]]) #' #' # Works for deeper trees too #' t2 <- tree_from(letters[1:10]) #' gdf2 <- get_graph_df(t2) #' nrow(gdf2[[2]]) #' @examples #' \\dontrun{ #' t <- as_flexseq(letters[1:4]) #' gdf <- get_graph_df(t) #' names(gdf) #' }"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_612-verify-rflexseqr-rfold_leftr-rfold_rightr","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.12 Verify R/flexseq.R, R/fold_left.R, R/fold_right.R","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"files already use measure_monoid() (lowercase) as_flexseq() examples. changes needed.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_613-verify-rpriority_queuer-rprintpriority_queuer-rpredicater","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.13 Verify R/priority_queue.R, R/print.priority_queue.R, R/Predicate.R","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"files already use correct exported functions examples. changes needed.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_614-verify-rappendr-and-rprependr","dir":"","previous_headings":"Phase 6: Fix all @examples blocks (Item 1)","what":"6.14 Verify R/append.R and R/prepend.R","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"R/append.R fully rewritten Phase 5.2 correct examples. R/prepend.R already uses as_flexseq examples. changes needed.","code":""},{"path":[]},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_71-update-_pkgdownyml","dir":"","previous_headings":"Phase 7: Clean up pkgdown config (Item 2)","what":"7.1 Update _pkgdown.yml","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: _pkgdown.yml developer API section references functions @keywords internal exported. can still appear pkgdown docs. However, remove functions won’t useful rendered pages. Update reference section: Replace developer API section (lines 44-55): : : Changes: - Removed split (’s now split.flexseq, listed flexseq API instead) - Removed get_graph_df (internal, useful document externally) Also update flexseq API section include split.flexseq. Add existing entries. Add line \"$<-.FingerTree\":","code":"- title: \"developer API\"     desc: \"Lower-level constructors, query primitives, and tooling\"     contents:       - add_monoids       - locate       - split       - split_tree       - measure_monoid       - predicate       - validate_tree       - validate_name_state       - get_graph_df - title: \"developer API\"     desc: \"Lower-level constructors, query primitives, and tooling\"     contents:       - add_monoids       - locate       - split_tree       - measure_monoid       - predicate       - validate_tree       - validate_name_state - \"split.flexseq\""},{"path":[]},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_81-update-description-for-vignettes","dir":"","previous_headings":"Phase 8: Create minimal vignette scaffolding (Item 14)","what":"8.1 Update DESCRIPTION for vignettes","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"File: DESCRIPTION Add knitr rmarkdown Suggests (igraph, pkgdown): Add new line Config/testthat/edition: 3:","code":"Suggests:     igraph,     knitr,     pkgdown,     rmarkdown,     testthat (>= 3.0.0) VignetteBuilder: knitr"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_82-create-vignettesflexseqrmd","dir":"","previous_headings":"Phase 8: Create minimal vignette scaffolding (Item 14)","what":"8.2 Create vignettes/flexseq.Rmd","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"Create file: vignettes/flexseq.Rmd","code":"--- title: \"Getting Started with flexseq\" output: rmarkdown::html_vignette vignette: >   %\\VignetteIndexEntry{Getting Started with flexseq}   %\\VignetteEngine{knitr::rmarkdown}   %\\VignetteEncoding{UTF-8} ---  ```{r setup, include = FALSE} knitr::opts_chunk$set(collapse = TRUE, comment = \"#>\") library(immutables)"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"creating-sequences","dir":"","previous_headings":"","what":"Creating sequences","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"flexseq objects persistent (immutable) sequences. Every modification returns new sequence, leaving original unchanged. ```{r} x <- flexseq(1, 2, 3) x y <- as_flexseq(letters[1:5]) y","code":"## Indexing  ```{r} y[[3]] y[c(1, 3, 5)]"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"appending-and-prepending","dir":"","previous_headings":"","what":"Appending and prepending","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"{r} z <- append(y, \"f\") z2 <- prepend(z, \"start\") length(z2)","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"named-sequences","dir":"","previous_headings":"","what":"Named sequences","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"{r} named <- as_flexseq(setNames(.list(1:3), c(\"\", \"b\", \"c\"))) named[[\"b\"]] named$c","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"concatenation","dir":"","previous_headings":"","what":"Concatenation","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"{r} combined <- c(x, as_flexseq(4:6)) length(combined)","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"folding","dir":"","previous_headings":"","what":"Folding","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"{r} sum_m <- measure_monoid(`+`, 0, .numeric) fold_left(as_flexseq(1:10), sum_m)","code":"### 8.3 Create `vignettes/priority-queues.Rmd`  **Create file:** `vignettes/priority-queues.Rmd`  ```rmd --- title: \"Priority Queues\" output: rmarkdown::html_vignette vignette: >   %\\VignetteIndexEntry{Priority Queues}   %\\VignetteEngine{knitr::rmarkdown}   %\\VignetteEncoding{UTF-8} ---  ```{r setup, include = FALSE} knitr::opts_chunk$set(collapse = TRUE, comment = \"#>\") library(immutables)"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"creating-a-priority-queue","dir":"","previous_headings":"","what":"Creating a priority queue","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"{r} q <- priority_queue(\"task_a\", \"task_b\", \"task_c\", priorities = c(3, 1, 2)) q","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"peeking-at-extremes","dir":"","previous_headings":"","what":"Peeking at extremes","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"{r} peek_min(q) peek_max(q)","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"extracting-elements","dir":"","previous_headings":"","what":"Extracting elements","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"extract_min() extract_max() return element updated queue, since priority queues persistent. {r} result <- extract_min(q) result$element result$priority result$queue","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"inserting-elements","dir":"","previous_headings":"","what":"Inserting elements","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"{r} q2 <- insert(q, \"task_d\", priority = 0) peek_min(q2)","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"persistence","dir":"","previous_headings":"","what":"Persistence","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"original queue unchanged extraction insertion: {r} peek_min(q) is_empty(q)","code":"### 8.4 Add `vignettes/` to `.Rbuildignore`  No action needed — vignettes are a standard package component and should NOT be in `.Rbuildignore`. R will build them correctly.  ---  ## Phase 9: Regenerate and verify  ### 9.1 Run `roxygen2::roxygenise()`  This regenerates `NAMESPACE` and all `man/*.Rd` files from the updated roxygen comments.  ```r roxygen2::roxygenise()"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_92-verify-namespace-changes","dir":"","previous_headings":"Persistence","what":"9.2 Verify NAMESPACE changes","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"roxygenise, check NAMESPACE contains: S3method(split,flexseq) (export(split)) export(append) (generic) S3method(append,default) S3method(append,flexseq) import(igraph) line import(rlist) line import(lambda.r) still present","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_93-run-r-cmd-check","dir":"","previous_headings":"Persistence","what":"9.3 Run R CMD check","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"Fix remaining NOTEs WARNINGs.","code":"R CMD build . && R CMD check immutables_*.tar.gz"},{"path":"https://github.com/oneilsh/immutables/PLAN_DETAILED.html","id":"id_94-run-tests","dir":"","previous_headings":"Persistence","what":"9.4 Run tests","title":"CRAN Cleanup Plan — Detailed Implementation Guide","text":"existing tests pass without modification (split append call syntax unchanged). one test description string changed Phase 2.4 cosmetic .","code":"testthat::test_local()"},{"path":[]},{"path":[]},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_1-fix-all-examples-blocks","dir":"","previous_headings":"","what":"1. Fix all @examples blocks","title":"CRAN Cleanup Plan — High-Level","text":"Problem: Many examples reference non-exported functions (MeasureMonoid(), tree_from(), Predicate()) causing R CMD check failures. pkgdown site already shows errors. Approach: Replace MeasureMonoid(...) measure_monoid(...) roxygen @examples. Replace tree_from(...) as_flexseq(...) (public equivalent). Replace Predicate(...) predicate(...) present examples. Review @examples exported functions simplicity correctness. Use exported, user-facing API calls. Examples demonstrate canonical usage — straightforward self-contained. @keywords internal functions (empty_tree, concat_trees, plot_tree, get_graph_df): wrap examples \\dontrun{} since aren’t part public API, replace examples using exported functions possible. edits, run roxygen2::roxygenise() regenerate man/ pages NAMESPACE.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_2-clean-up-developer-api-exports-vs-internals","dir":"","previous_headings":"","what":"2. Clean up developer API exports vs internals","title":"CRAN Cleanup Plan — High-Level","text":"Problem: Several exported S3 methods dispatch FingerTree (internal class), several @keywords internal functions appear pkgdown developer API section despite exported. public API operate flexseq / priority_queue objects . Approach: tree_from(), empty_tree(), concat_trees() already @keywords internal exported — NAMESPACE changes needed. Ensure examples use \\dontrun{} removed. get_graph_df() plot_tree() @keywords internal — treatment. _pkgdown.yml developer API section references unexported functions. Remove pkgdown config accept pkgdown can document internal functions (just won’t user-accessible without :::). S3 methods registered FingerTree ([.FingerTree, [[.FingerTree, etc.) already corresponding flexseq registrations NAMESPACE — verify flexseq methods dispatch correctly users always interact via flexseq.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_3-remove-lazydata-true","dir":"","previous_headings":"","what":"3. Remove LazyData: true","title":"CRAN Cleanup Plan — High-Level","text":"Problem: DESCRIPTION LazyData: true data/ directory, producing R CMD check NOTE. Approach: Remove LazyData: true line DESCRIPTION.","code":""},{"path":[]},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"split-clean-solution-available","dir":"","previous_headings":"4. Resolve split and append base R masking","what":"split (clean solution available)","title":"CRAN Cleanup Plan — High-Level","text":"base::split S3 generic. Convert current standalone split() export proper split.flexseq S3 method. Current signature: split(t, predicate, monoid_name) New signature: split.flexseq(x, f, ...) x flexseq tree, f predicate function, monoid_name passed via ... (positionally named argument). method registered via @method split flexseq / S3method(split, flexseq) NAMESPACE. Update call sites tests: split(t, pred, \".size\") continues work unchanged since R dispatches first argument’s class.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"append-decided-s3-generic-with-default-fallback","dir":"","previous_headings":"4. Resolve split and append base R masking","what":"append (decided: S3 generic with default fallback)","title":"CRAN Cleanup Plan — High-Level","text":"base::append generic — ’s plain function. create S3 generic: append <- function(x, ...) UseMethod(\"append\"), provide append.default forwarding base::append(x, ...), append.flexseq wrapping current implementation. well-established CRAN pattern (e.g. data.table handles merge). Users get clean append(t, x) semantics base::append() still works non-flexseq objects. Update tests examples reflect signature changes.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_5-move-igraph-from-imports-to-suggests","dir":"","previous_headings":"","what":"5. Move igraph from Imports to Suggests","title":"CRAN Cleanup Plan — High-Level","text":"Problem: igraph (~5MB compiled) used plot_tree(), @keywords internal. Approach: Move igraph Imports Suggests DESCRIPTION. Remove @import igraph R/fingertree-package.R. plot_tree() (R/utils.R), add requireNamespace(\"igraph\") guard helpful error message installed. Qualify igraph function calls: igraph::graph_from_data_frame(), igraph::layout_as_tree(), igraph::V(), igraph::vcount(). Remove import(igraph) NAMESPACE (happen automatically via roxygen2::roxygenise()).","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_6-eliminate-rlist-dependency","dir":"","previous_headings":"","what":"6. Eliminate rlist dependency","title":"CRAN Cleanup Plan — High-Level","text":"Problem: 3 usages rlist functions (list.prepend, list.append), used prepend/append element list preserving flat structure. Approach: Replace base R equivalents satisfy stated requirements (prepend/append element list without nesting, restore class attributes): list.prepend(d, el) → c(list(el), d) (R/add_left.R R/utils.R) list.append(d, el) → c(d, list(el)) (R/add_right.R) surrounding code already restores class attributes calls, replacement safe. Remove rlist DESCRIPTION Imports @import rlist R/fingertree-package.R.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_7-add-meta-to-rbuildignore","dir":"","previous_headings":"","what":"7. Add meta/ to .Rbuildignore","title":"CRAN Cleanup Plan — High-Level","text":"Problem: Development files meta/ included CRAN tarball. Approach: Add ^meta$ ^meta/ patterns .Rbuildignore.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_8-readme--deferred","dir":"","previous_headings":"","what":"8. README — deferred","title":"CRAN Cleanup Plan — High-Level","text":"User work README separately. changes plan.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_9-add-bugreports-to-description","dir":"","previous_headings":"","what":"9. Add BugReports to DESCRIPTION","title":"CRAN Cleanup Plan — High-Level","text":"Approach: Add BugReports: https://github.com/oneilsh/immutables/issues DESCRIPTION.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_10-lambdar-dependency--deferred","dir":"","previous_headings":"","what":"10. lambda.r dependency — deferred","title":"CRAN Cleanup Plan — High-Level","text":"Deeply embedded (277 occurrences across 20 files). Removing large refactor scope round.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_11-pkgdown-title--already-fixed-by-user","dir":"","previous_headings":"","what":"11. pkgdown title — already fixed by user","title":"CRAN Cleanup Plan — High-Level","text":"action needed.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_12-remove-predicate-pascalcase-alias","dir":"","previous_headings":"","what":"12. Remove Predicate (PascalCase alias)","title":"CRAN Cleanup Plan — High-Level","text":"Problem: Predicate() unexported alias exported predicate(). referenced one test (test-cpp-parity.R:79). Approach: Remove Predicate function definition R/Predicate.R (keep predicate). Update test test-cpp-parity.R use predicate() instead. Similarly, MeasureMonoid R/MeasureMonoid.R:25 unexported alias measure_monoid. Remove alias function. Update internal code tests reference MeasureMonoid() use measure_monoid().","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_13-remove-placeholder-file-rfingertree_measuredr","dir":"","previous_headings":"","what":"13. Remove placeholder file R/fingertree_measured.R","title":"CRAN Cleanup Plan — High-Level","text":"Problem: File contains TODO comment. Approach: Delete R/fingertree_measured.R.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"id_14-create-minimal-vignette-scaffolding","dir":"","previous_headings":"","what":"14. Create minimal vignette scaffolding","title":"CRAN Cleanup Plan — High-Level","text":"Problem: vignettes exist. CRAN submission benefits least getting-started guide. Approach: Create vignettes/ directory. vignettes/flexseq.Rmd — basic flexseq usage (construction, indexing, append/prepend, fold, concatenation). vignettes/priority-queues.Rmd — basic priority queue usage (construction, insert, peek/extract min/max). Add knitr rmarkdown Suggests DESCRIPTION. Add VignetteBuilder: knitr DESCRIPTION. Content minimal/placeholder — user flesh later.","code":""},{"path":"https://github.com/oneilsh/immutables/PLAN_HIGH_LEVEL.html","id":"execution-order","dir":"","previous_headings":"","what":"Execution order","title":"CRAN Cleanup Plan — High-Level","text":"Items 3, 7, 9, 13 — trivial DESCRIPTION/.Rbuildignore fixes Item 12 — remove PascalCase aliases Item 6 — eliminate rlist dependency Item 5 — move igraph Suggests Item 4 — convert split/append proper S3 methods Item 1 — fix @examples Item 2 — clean pkgdown config internal docs Item 14 — create vignette scaffolding Run roxygen2::roxygenise(), R CMD check, fix remaining issues","code":""},{"path":"https://github.com/oneilsh/immutables/articles/flexseq.html","id":"creating-sequences","dir":"Articles","previous_headings":"","what":"Creating sequences","title":"Getting Started with flexseq","text":"flexseq objects persistent (immutable) sequences. update returns new object.","code":"x <- flexseq(1, 2, 3) x #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3  x2 <- as_flexseq(letters[1:5]) x2 #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\""},{"path":"https://github.com/oneilsh/immutables/articles/flexseq.html","id":"indexing","dir":"Articles","previous_headings":"","what":"Indexing","title":"Getting Started with flexseq","text":"","code":"x2[[3]] #> [1] \"c\"  x3 <- x2[c(1, 3, 5)] x3 #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"c\" #>  #> [[3]] #> [1] \"e\""},{"path":"https://github.com/oneilsh/immutables/articles/flexseq.html","id":"appending-and-prepending","dir":"Articles","previous_headings":"","what":"Appending and prepending","title":"Getting Started with flexseq","text":"","code":"x4 <- append(x2, \"f\") x4 #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\"  x5 <- prepend(x4, \"start\") x5 #> FingerTree <size=7, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"start\" #>  #> [[2]] #> [1] \"a\" #>  #> [[3]] #> [1] \"b\" #>  #> [[4]] #> [1] \"c\" #>  #> [[5]] #> [1] \"d\" #>  #> [[6]] #> [1] \"e\" #>  #> ... and 1 more element not shown"},{"path":"https://github.com/oneilsh/immutables/articles/flexseq.html","id":"named-sequences","dir":"Articles","previous_headings":"","what":"Named sequences","title":"Getting Started with flexseq","text":"","code":"x_named <- as_flexseq(list(a = 1, b = 2, c = 3)) x_named #> FingerTree <size=3, named=yes> #>   monoids: none #>  #> $a #> [1] 1 #>  #> $b #> [1] 2 #>  #> $c #> [1] 3  x_named[[\"b\"]] #> [1] 2 x_named$c #> [1] 3"},{"path":"https://github.com/oneilsh/immutables/articles/flexseq.html","id":"concatenation","dir":"Articles","previous_headings":"","what":"Concatenation","title":"Getting Started with flexseq","text":"","code":"x6 <- as_flexseq(4:6) x7 <- c(x, x6) x7 #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>  #> [[6]] #> [1] 6"},{"path":"https://github.com/oneilsh/immutables/articles/flexseq.html","id":"folding","dir":"Articles","previous_headings":"","what":"Folding","title":"Getting Started with flexseq","text":"","code":"sum_m <- measure_monoid(`+`, 0, as.numeric)  x8 <- as_flexseq(1:10) fold_left(x8, sum_m) #> [1] 55"},{"path":"https://github.com/oneilsh/immutables/articles/priority-queues.html","id":"creating-a-priority-queue","dir":"Articles","previous_headings":"","what":"Creating a priority queue","title":"Priority Queues","text":"","code":"x <- priority_queue(\"task_a\", \"task_b\", \"task_c\", priorities = c(3, 1, 2)) x #> <priority_queue> size=3 next_seq=4 #> min_priority=1 max_priority=3"},{"path":"https://github.com/oneilsh/immutables/articles/priority-queues.html","id":"peeking-at-extremes","dir":"Articles","previous_headings":"","what":"Peeking at extremes","title":"Priority Queues","text":"","code":"peek_min(x) #> [1] \"task_b\" peek_max(x) #> [1] \"task_a\""},{"path":"https://github.com/oneilsh/immutables/articles/priority-queues.html","id":"extracting-elements","dir":"Articles","previous_headings":"","what":"Extracting elements","title":"Priority Queues","text":"extract_min() extract_max() return element updated queue.","code":"x2 <- extract_min(x) x2$element #> [1] \"task_b\" x2$priority #> [1] 1 x2$queue #> <priority_queue> size=2 next_seq=4 #> min_priority=2 max_priority=3"},{"path":"https://github.com/oneilsh/immutables/articles/priority-queues.html","id":"inserting-elements","dir":"Articles","previous_headings":"","what":"Inserting elements","title":"Priority Queues","text":"","code":"x3 <- insert(x, \"task_d\", priority = 0) x3 #> <priority_queue> size=4 next_seq=5 #> min_priority=0 max_priority=3 peek_min(x3) #> [1] \"task_d\""},{"path":"https://github.com/oneilsh/immutables/articles/priority-queues.html","id":"persistence","dir":"Articles","previous_headings":"","what":"Persistence","title":"Priority Queues","text":"original queue unchanged.","code":"peek_min(x) #> [1] \"task_b\" is_empty(x) #> [1] FALSE"},{"path":"https://github.com/oneilsh/immutables/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Shawn T. O'Neil. Author, maintainer.","code":""},{"path":"https://github.com/oneilsh/immutables/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"O'Neil S (2026). immutables: Fast Functional Data Structures. R package version 0.0.1, https://github.com/oneilsh/immutables.","code":"@Manual{,   title = {immutables: Fast and Functional Data Structures},   author = {Shawn T. O'Neil},   year = {2026},   note = {R package version 0.0.1},   url = {https://github.com/oneilsh/immutables}, }"},{"path":"https://github.com/oneilsh/immutables/index.html","id":"monoid-annotated-2-3-finger-trees-in-r","dir":"","previous_headings":"","what":"immutables","title":"immutables","text":"Alpha tests monoid-annotated fingertrees R. Please note repository much alpha work--progress; code inefficient, functionality missing.","code":""},{"path":"https://github.com/oneilsh/immutables/index.html","id":"runtime-options","dir":"","previous_headings":"","what":"Runtime Options","title":"immutables","text":"Two options useful benchmarking/debugging internals: Enables/disables C++ fast paths append/prepend/indexing/split/locate/concat. Default TRUE. Enables extra monoid normalization checks inside hot-path monoid resolution. Useful debugging hand-mutated trees. Default FALSE (fast path). R/ - implementation files 2-3 finger tree monoids. scripts/monoids_demo.R - demo/exploration monoid-annotated binary trees (2-3 finger trees). scripts/monoids_typed.R - typed monoid/tree implementation using lambda.r. scripts/ - demo/experiment scripts finger trees plotting.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/MeasureMonoid.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a MeasureMonoid — MeasureMonoid","title":"Construct a MeasureMonoid — MeasureMonoid","text":"Construct MeasureMonoid","code":""},{"path":"https://github.com/oneilsh/immutables/reference/MeasureMonoid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a MeasureMonoid — MeasureMonoid","text":"","code":"MeasureMonoid(f, i, measure)"},{"path":"https://github.com/oneilsh/immutables/reference/MeasureMonoid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a MeasureMonoid — MeasureMonoid","text":"f Associative binary function measure values. Identity measure value `f`. measure Function mapping raw element measure value.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/MeasureMonoid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a MeasureMonoid — MeasureMonoid","text":"object class `MeasureMonoid`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/MeasureMonoid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a MeasureMonoid — MeasureMonoid","text":"","code":"sum_m <- MeasureMonoid(`+`, 0, as.numeric) t <- tree_from(1:5) reduce_left(t, sum_m) #> [1] 15  # Measure from element metadata t2 <- tree_from(letters[1:3], values = c(10, 20, 30)) value_sum <- MeasureMonoid(`+`, 0, function(el) as.numeric(attr(el, \"value\"))) reduce_right(t2, value_sum) #> Error in r$f(t, acc): non-numeric argument to binary operator"},{"path":"https://github.com/oneilsh/immutables/reference/Predicate.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Predicate Function — predicate","title":"Construct a Predicate Function — predicate","text":"Construct Predicate Function","code":""},{"path":"https://github.com/oneilsh/immutables/reference/Predicate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Predicate Function — predicate","text":"","code":"predicate(f)"},{"path":"https://github.com/oneilsh/immutables/reference/Predicate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Predicate Function — predicate","text":"f Predicate function accumulated measure values.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/Predicate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Predicate Function — predicate","text":"predicate function.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/Predicate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a Predicate Function — predicate","text":"","code":"p <- predicate(function(v) v >= 3) p(2) #> [1] FALSE p(3) #> [1] TRUE  x <- as_flexseq(letters[1:5]) locate(x, p, \".size\") #> $found #> [1] TRUE #>  #> $elem #> [1] \"c\" #>"},{"path":"https://github.com/oneilsh/immutables/reference/add_monoids.html","id":null,"dir":"Reference","previous_headings":"","what":"Add/merge monoids on an existing tree — add_monoids","title":"Add/merge monoids on an existing tree — add_monoids","text":"Add/merge monoids existing tree","code":""},{"path":"https://github.com/oneilsh/immutables/reference/add_monoids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add/merge monoids on an existing tree — add_monoids","text":"","code":"add_monoids(t, monoids, overwrite = FALSE)"},{"path":"https://github.com/oneilsh/immutables/reference/add_monoids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add/merge monoids on an existing tree — add_monoids","text":"t FingerTree. monoids Named list `measure_monoid` objects add. overwrite Logical; whether overlapping names replace existing monoids.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/add_monoids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add/merge monoids on an existing tree — add_monoids","text":"persistent copy recomputed cached measures.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/add_monoids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add/merge monoids on an existing tree — add_monoids","text":"","code":"x <- as_flexseq(1:5) x #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>   sum_m <- measure_monoid(`+`, 0, as.numeric) x2 <- add_monoids(x, list(sum = sum_m)) x2 #> $prefix #> [[1]] #> [1] 1 #>  #> attr(,\"class\") #> [1] \"Digit\" \"list\"  #> attr(,\"monoids\") #> attr(,\"monoids\")$.size #> $f #> function(a, b) a + b #> <environment: 0x110a0e718> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) 1 #> <environment: 0x110a0e718> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$.named_count #> $f #> function(a, b) a + b #> <environment: 0x110a40e88> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) { #>     if (isTRUE(.ft_has_name(el))) #>       1L #>     else 0L #>   } #> <environment: 0x110a40e88> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$sum #> $f #> function (e1, e2)  .Primitive(\"+\") #>  #> $i #> [1] 0 #>  #> $measure #> function (x, ...)  .Primitive(\"as.double\") #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"measures\") #> attr(,\"measures\")$.size #> [1] 1 #>  #> attr(,\"measures\")$.named_count #> [1] 0 #>  #> attr(,\"measures\")$sum #> [1] 1 #>  #>  #> $middle #> [[1]] #> NULL #>  #> attr(,\"class\") #> [1] \"Empty\"      \"FingerTree\" \"list\"       #> attr(,\"monoids\") #> attr(,\"monoids\")$.size #> $f #> function(a, b) a + b #> <environment: 0x110b1ab38> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) 1 #> <environment: 0x110b1ab38> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$.named_count #> $f #> function(a, b) a + b #> <environment: 0x110b407f0> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) { #>     if (isTRUE(.ft_has_name(el))) #>       1L #>     else 0L #>   } #> <environment: 0x110b407f0> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$sum #> $f #> function (e1, e2)  .Primitive(\"+\") #>  #> $i #> [1] 0 #>  #> $measure #> function (x, ...)  .Primitive(\"as.double\") #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"measures\") #> attr(,\"measures\")$.size #> [1] 0 #>  #> attr(,\"measures\")$.named_count #> [1] 0 #>  #> attr(,\"measures\")$sum #> [1] 0 #>  #>  #> $suffix #> [[1]] #> [1] 2 #>  #> [[2]] #> [1] 3 #>  #> [[3]] #> [1] 4 #>  #> [[4]] #> [1] 5 #>  #> attr(,\"class\") #> [1] \"Digit\" \"list\"  #> attr(,\"monoids\") #> attr(,\"monoids\")$.size #> $f #> function(a, b) a + b #> <environment: 0x1073d0eb8> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) 1 #> <environment: 0x1073d0eb8> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$.named_count #> $f #> function(a, b) a + b #> <environment: 0x1073b1220> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) { #>     if (isTRUE(.ft_has_name(el))) #>       1L #>     else 0L #>   } #> <environment: 0x1073b1220> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$sum #> $f #> function (e1, e2)  .Primitive(\"+\") #>  #> $i #> [1] 0 #>  #> $measure #> function (x, ...)  .Primitive(\"as.double\") #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"measures\") #> attr(,\"measures\")$.size #> [1] 4 #>  #> attr(,\"measures\")$.named_count #> [1] 0 #>  #> attr(,\"measures\")$sum #> [1] 14 #>  #>  #> attr(,\"class\") #> [1] \"Deep\"       \"FingerTree\" \"list\"       #> attr(,\"monoids\") #> attr(,\"monoids\")$.size #> $f #> function(a, b) a + b #> <environment: 0x11449d8e0> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) 1 #> <environment: 0x11449d8e0> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$.named_count #> $f #> function(a, b) a + b #> <environment: 0x114464fe8> #>  #> $i #> [1] 0 #>  #> $measure #> function(el) { #>     if (isTRUE(.ft_has_name(el))) #>       1L #>     else 0L #>   } #> <environment: 0x114464fe8> #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"monoids\")$sum #> $f #> function (e1, e2)  .Primitive(\"+\") #>  #> $i #> [1] 0 #>  #> $measure #> function (x, ...)  .Primitive(\"as.double\") #>  #> attr(,\"class\") #> [1] \"measure_monoid\" \"MeasureMonoid\"  \"list\"           #>  #> attr(,\"measures\") #> attr(,\"measures\")$.size #> [1] 5 #>  #> attr(,\"measures\")$.named_count #> [1] 0 #>  #> attr(,\"measures\")$sum #> [1] 15 #>  attr(x2, \"measures\")$sum #> [1] 15  # replace an existing monoid definition sum2 <- measure_monoid(function(a, b) a + 2 * b, 0, as.numeric) x3 <- add_monoids(x2, list(sum = sum2), overwrite = TRUE) attr(x3, \"measures\")$sum #> [1] 60"},{"path":"https://github.com/oneilsh/immutables/reference/append.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Append an element to a flexseq — append.flexseq","title":"Append an element to a flexseq — append.flexseq","text":"Append element flexseq","code":""},{"path":"https://github.com/oneilsh/immutables/reference/append.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Append an element to a flexseq — append.flexseq","text":"","code":"# S3 method for class 'flexseq' append(x, values, ...)"},{"path":"https://github.com/oneilsh/immutables/reference/append.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Append an element to a flexseq — append.flexseq","text":"x `flexseq`. values Element append. ... Unused.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/append.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Append an element to a flexseq — append.flexseq","text":"Updated `flexseq`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/append.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Append an element to a flexseq — append.flexseq","text":"","code":"x <- as_flexseq(letters[1:4]) x #> FingerTree <size=4, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>   x2 <- append(x, \"p\") x2 #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"p\" #>   # flexseqs can also hold nested or mixed types x3 <- append(x2, c(8, 9)) x3 #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"p\" #>  #> [[6]] #> [1] 8 9 #>   # appending to a named sequence requires a named element x4 <- as_flexseq(list(one = 1, two = 2, three = 3)) new_el <- 4 names(new_el) <- \"four\" x5 <- append(x4, new_el) x5 #> FingerTree <size=4, named=yes> #>   monoids: none #>  #> $one #> [1] 1 #>  #> $two #> [1] 2 #>  #> $three #> [1] 3 #>  #> $four #> four  #>    4  #>"},{"path":"https://github.com/oneilsh/immutables/reference/append.html","id":null,"dir":"Reference","previous_headings":"","what":"Append elements — append","title":"Append elements — append","text":"Generic function appending. default method calls [base::append()]. flexseq method appends single element right side persistent sequence.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/append.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Append elements — append","text":"","code":"append(x, ...)  # Default S3 method append(x, values, after = length(x), ...)"},{"path":"https://github.com/oneilsh/immutables/reference/append.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Append elements — append","text":"x Object append . ... Method-specific arguments. values Values append (default method, passed [base::append()]). Position insert (default method).","code":""},{"path":"https://github.com/oneilsh/immutables/reference/append.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Append elements — append","text":"Updated object.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/as_flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Coerce to a Persistent Flexible Sequence — as_flexseq","title":"Coerce to a Persistent Flexible Sequence — as_flexseq","text":"Coerce Persistent Flexible Sequence","code":""},{"path":"https://github.com/oneilsh/immutables/reference/as_flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coerce to a Persistent Flexible Sequence — as_flexseq","text":"","code":"as_flexseq(x, monoids = NULL)"},{"path":"https://github.com/oneilsh/immutables/reference/as_flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coerce to a Persistent Flexible Sequence — as_flexseq","text":"x Input vector/list-like object. monoids Optional named list measure monoids.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/as_flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coerce to a Persistent Flexible Sequence — as_flexseq","text":"`flexseq` object.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/as_flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Coerce to a Persistent Flexible Sequence — as_flexseq","text":"","code":"x <- as_flexseq(1:5) x #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>   x2 <- as_flexseq(list(one = 1, two = 2, three = 3)) x2 #> FingerTree <size=3, named=yes> #>   monoids: none #>  #> $one #> [1] 1 #>  #> $two #> [1] 2 #>  #> $three #> [1] 3 #>"},{"path":"https://github.com/oneilsh/immutables/reference/as_priority_queue.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a Priority Queue from elements and priorities — as_priority_queue","title":"Build a Priority Queue from elements and priorities — as_priority_queue","text":"Build Priority Queue elements priorities","code":""},{"path":"https://github.com/oneilsh/immutables/reference/as_priority_queue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a Priority Queue from elements and priorities — as_priority_queue","text":"","code":"as_priority_queue(x, priorities, names = NULL, monoids = NULL)"},{"path":"https://github.com/oneilsh/immutables/reference/as_priority_queue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a Priority Queue from elements and priorities — as_priority_queue","text":"x Elements enqueue. priorities Numeric priorities (length `x`). names Optional element names name-based indexing. monoids Optional additional named list `measure_monoid` objects.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/as_priority_queue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a Priority Queue from elements and priorities — as_priority_queue","text":"`priority_queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/as_priority_queue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build a Priority Queue from elements and priorities — as_priority_queue","text":"","code":"x <- as_priority_queue(letters[1:4], priorities = c(3, 1, 2, 1)) x #> <priority_queue> size=4 next_seq=5 #> min_priority=1 max_priority=3 peek_min(x) #> [1] \"b\" peek_max(x) #> [1] \"a\""},{"path":"https://github.com/oneilsh/immutables/reference/c.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Concatenate Sequences — c.flexseq","title":"Concatenate Sequences — c.flexseq","text":"Concatenate Sequences","code":""},{"path":"https://github.com/oneilsh/immutables/reference/c.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concatenate Sequences — c.flexseq","text":"","code":"# S3 method for class 'flexseq' c(..., recursive = FALSE)"},{"path":"https://github.com/oneilsh/immutables/reference/c.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Concatenate Sequences — c.flexseq","text":"... `flexseq` objects. recursive Unused; must `FALSE`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/c.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Concatenate Sequences — c.flexseq","text":"concatenated `flexseq`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract a named element with `$` — $.FingerTree","title":"Extract a named element with `$` — $.FingerTree","text":"Exact-name lookup named trees, equivalent `x[[\\\"name\\\"]]`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract a named element with `$` — $.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x$name"},{"path":"https://github.com/oneilsh/immutables/reference/cash-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract a named element with `$` — $.FingerTree","text":"x FingerTree. name Element name.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract a named element with `$` — $.FingerTree","text":"matched element.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract a named element with `$` — $.FingerTree","text":"","code":"t <- tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) #> Error in tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))): could not find function \"tree_from\" t$b #> Error in t$b: object of type 'closure' is not subsettable"},{"path":"https://github.com/oneilsh/immutables/reference/cash-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract a named element with `$` — $.flexseq","title":"Extract a named element with `$` — $.flexseq","text":"Exact-name lookup named trees, equivalent `x[[\\\"name\\\"]]`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract a named element with `$` — $.flexseq","text":"","code":"# S3 method for class 'flexseq' x$name"},{"path":"https://github.com/oneilsh/immutables/reference/cash-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract a named element with `$` — $.flexseq","text":"x `flexseq`. name Element name.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract a named element with `$` — $.flexseq","text":"matched element.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract a named element with `$` — $.flexseq","text":"","code":"x <- as_flexseq(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) x$b #> [1] 2"},{"path":"https://github.com/oneilsh/immutables/reference/cash-set-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace a named element with `$<-` — $<-.FingerTree","title":"Replace a named element with `$<-` — $<-.FingerTree","text":"Exact-name replacement named trees, equivalent `x[[\\\"name\\\"]] <- value`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-set-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace a named element with `$<-` — $<-.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x$name <- value"},{"path":"https://github.com/oneilsh/immutables/reference/cash-set-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace a named element with `$<-` — $<-.FingerTree","text":"x FingerTree. name Element name. value Replacement element.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-set-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace a named element with `$<-` — $<-.FingerTree","text":"Updated tree.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-set-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace a named element with `$<-` — $<-.FingerTree","text":"","code":"t <- tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) #> Error in tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))): could not find function \"tree_from\" t$b <- 20 #> Error in t$b <- 20: object of type 'closure' is not subsettable t$b #> Error in t$b: object of type 'closure' is not subsettable"},{"path":"https://github.com/oneilsh/immutables/reference/cash-set-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace a named element with `$<-` — $<-.flexseq","title":"Replace a named element with `$<-` — $<-.flexseq","text":"Exact-name replacement named trees, equivalent `x[[\\\"name\\\"]] <- value`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-set-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace a named element with `$<-` — $<-.flexseq","text":"","code":"# S3 method for class 'flexseq' x$name <- value"},{"path":"https://github.com/oneilsh/immutables/reference/cash-set-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace a named element with `$<-` — $<-.flexseq","text":"x `flexseq`. name Element name. value Replacement element.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-set-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace a named element with `$<-` — $<-.flexseq","text":"Updated tree.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/cash-set-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace a named element with `$<-` — $<-.flexseq","text":"","code":"x <- as_flexseq(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) x$b <- 20 x$b #> [1] 20"},{"path":"https://github.com/oneilsh/immutables/reference/concat_trees.html","id":null,"dir":"Reference","previous_headings":"","what":"Concatenate Two Structural Trees — concat_trees","title":"Concatenate Two Structural Trees — concat_trees","text":"-name monoids assumed equivalent; left-tree definitions win. Missing monoids added side concatenation.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/concat_trees.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concatenate Two Structural Trees — concat_trees","text":"","code":"concat_trees(x, y)"},{"path":"https://github.com/oneilsh/immutables/reference/concat_trees.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Concatenate Two Structural Trees — concat_trees","text":"x Left tree. y Right tree.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/concat_trees.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Concatenate Two Structural Trees — concat_trees","text":"Concatenated tree.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/concat_trees.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Concatenate Two Structural Trees — concat_trees","text":"","code":"if (FALSE) { # \\dontrun{ left <- as_flexseq(letters[1:3]) right <- as_flexseq(letters[4:6]) t <- concat_trees(left, right) cat_m <- measure_monoid(paste0, \"\", as.character) fold_left(t, cat_m) } # }"},{"path":"https://github.com/oneilsh/immutables/reference/empty_tree.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an Empty Structural Tree — empty_tree","title":"Create an Empty Structural Tree — empty_tree","text":"Create Empty Structural Tree","code":""},{"path":"https://github.com/oneilsh/immutables/reference/empty_tree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an Empty Structural Tree — empty_tree","text":"","code":"empty_tree(monoids = NULL)"},{"path":"https://github.com/oneilsh/immutables/reference/empty_tree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an Empty Structural Tree — empty_tree","text":"monoids Optional named list `measure_monoid` objects.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/empty_tree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an Empty Structural Tree — empty_tree","text":"empty finger tree structural `monoids` `measures` attrs.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/empty_tree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an Empty Structural Tree — empty_tree","text":"","code":"if (FALSE) { # \\dontrun{ t <- empty_tree() t  count_m <- measure_monoid(`+`, 0, function(el) 1) t2 <- empty_tree(monoids = list(count = count_m)) attr(t2, \"measures\") } # }"},{"path":"https://github.com/oneilsh/immutables/reference/extract_max.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract maximum-priority element — extract_max","title":"Extract maximum-priority element — extract_max","text":"Extract maximum-priority element","code":""},{"path":"https://github.com/oneilsh/immutables/reference/extract_max.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract maximum-priority element — extract_max","text":"","code":"extract_max(q)"},{"path":"https://github.com/oneilsh/immutables/reference/extract_max.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract maximum-priority element — extract_max","text":"q `priority_queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/extract_max.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract maximum-priority element — extract_max","text":"List `element`, `priority`, updated `queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/extract_max.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract maximum-priority element — extract_max","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 3, 3)) out <- extract_max(x) out$element #> [1] \"b\" out$priority #> [1] 3 out$queue #> <priority_queue> size=2 next_seq=4 #> min_priority=2 max_priority=3"},{"path":"https://github.com/oneilsh/immutables/reference/extract_min.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract minimum-priority element — extract_min","title":"Extract minimum-priority element — extract_min","text":"Extract minimum-priority element","code":""},{"path":"https://github.com/oneilsh/immutables/reference/extract_min.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract minimum-priority element — extract_min","text":"","code":"extract_min(q)"},{"path":"https://github.com/oneilsh/immutables/reference/extract_min.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract minimum-priority element — extract_min","text":"q `priority_queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/extract_min.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract minimum-priority element — extract_min","text":"List `element`, `priority`, updated `queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/extract_min.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract minimum-priority element — extract_min","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 1, 1)) out <- extract_min(x) out$element #> [1] \"b\" out$priority #> [1] 1 out$queue #> <priority_queue> size=2 next_seq=4 #> min_priority=1 max_priority=2"},{"path":"https://github.com/oneilsh/immutables/reference/fingertree-package.html","id":null,"dir":"Reference","previous_headings":"","what":"fingertree — fingertree-package","title":"fingertree — fingertree-package","text":"Monoid-annotated 2-3 finger trees.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/fingertree-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"fingertree — fingertree-package","text":"Maintainer: Shawn T. O'Neil shawn@tislab.org","code":""},{"path":"https://github.com/oneilsh/immutables/reference/flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Persistent Flexible Sequence — flexseq","title":"Construct a Persistent Flexible Sequence — flexseq","text":"Works like `list(...)`, returns immutable sequence backed measured finger-tree internals.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Persistent Flexible Sequence — flexseq","text":"","code":"flexseq(..., monoids = NULL)"},{"path":"https://github.com/oneilsh/immutables/reference/flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Persistent Flexible Sequence — flexseq","text":"... Sequence elements. monoids Optional named list measure monoids.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Persistent Flexible Sequence — flexseq","text":"`flexseq` object.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a Persistent Flexible Sequence — flexseq","text":"","code":"x <- flexseq(1, 2, 3) x #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>   x2 <- flexseq(\"a\", \"b\", \"c\") x2 #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>"},{"path":"https://github.com/oneilsh/immutables/reference/fold_left.html","id":null,"dir":"Reference","previous_headings":"","what":"Fold Left Over a Sequence — fold_left","title":"Fold Left Over a Sequence — fold_left","text":"Fold Left Sequence","code":""},{"path":"https://github.com/oneilsh/immutables/reference/fold_left.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fold Left Over a Sequence — fold_left","text":"","code":"fold_left(x, monoid)"},{"path":"https://github.com/oneilsh/immutables/reference/fold_left.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fold Left Over a Sequence — fold_left","text":"x `flexseq`. monoid `measure_monoid` specification.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/fold_left.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fold Left Over a Sequence — fold_left","text":"Reduced value.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/fold_left.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fold Left Over a Sequence — fold_left","text":"","code":"x <- as_flexseq(1:5) x #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>   sum_m <- measure_monoid(`+`, 0, as.numeric) fold_left(x, sum_m) #> [1] 15  x2 <- as_flexseq(letters[1:4]) cat_m <- measure_monoid(paste0, \"\", as.character) fold_left(x2, cat_m) #> [1] \"abcd\""},{"path":"https://github.com/oneilsh/immutables/reference/fold_right.html","id":null,"dir":"Reference","previous_headings":"","what":"Fold Right Over a Sequence — fold_right","title":"Fold Right Over a Sequence — fold_right","text":"Fold Right Sequence","code":""},{"path":"https://github.com/oneilsh/immutables/reference/fold_right.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fold Right Over a Sequence — fold_right","text":"","code":"fold_right(x, monoid)"},{"path":"https://github.com/oneilsh/immutables/reference/fold_right.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fold Right Over a Sequence — fold_right","text":"x `flexseq`. monoid `measure_monoid` specification.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/fold_right.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fold Right Over a Sequence — fold_right","text":"Reduced value.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/fold_right.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fold Right Over a Sequence — fold_right","text":"","code":"x <- as_flexseq(1:5) x #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>   sum_m <- measure_monoid(`+`, 0, as.numeric) fold_right(x, sum_m) #> [1] 15  x2 <- as_flexseq(letters[1:4]) cat_m <- measure_monoid(paste0, \"\", as.character) fold_right(x2, cat_m) #> [1] \"abcd\""},{"path":"https://github.com/oneilsh/immutables/reference/get_graph_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Build graph data frames for a finger tree — get_graph_df","title":"Build graph data frames for a finger tree — get_graph_df","text":"Build graph data frames finger tree","code":""},{"path":"https://github.com/oneilsh/immutables/reference/get_graph_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build graph data frames for a finger tree — get_graph_df","text":"","code":"get_graph_df(t)"},{"path":"https://github.com/oneilsh/immutables/reference/get_graph_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build graph data frames for a finger tree — get_graph_df","text":"t FingerTree.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/get_graph_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build graph data frames for a finger tree — get_graph_df","text":"list edge node data frames igraph plotting.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/get_graph_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build graph data frames for a finger tree — get_graph_df","text":"","code":"if (FALSE) { # \\dontrun{ t <- as_flexseq(letters[1:4]) gdf <- get_graph_df(t) names(gdf) } # }"},{"path":"https://github.com/oneilsh/immutables/reference/immutables-package.html","id":null,"dir":"Reference","previous_headings":"","what":"immutables — immutables-package","title":"immutables — immutables-package","text":"Monoid-annotated 2-3 finger trees.","code":""},{"path":[]},{"path":"https://github.com/oneilsh/immutables/reference/immutables-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"immutables — immutables-package","text":"Maintainer: Shawn T. O'Neil shawn@tislab.org","code":""},{"path":"https://github.com/oneilsh/immutables/reference/insert.html","id":null,"dir":"Reference","previous_headings":"","what":"Insert an element into a priority queue — insert","title":"Insert an element into a priority queue — insert","text":"Insert element priority queue","code":""},{"path":"https://github.com/oneilsh/immutables/reference/insert.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Insert an element into a priority queue — insert","text":"","code":"insert(q, element, priority, name = NULL)"},{"path":"https://github.com/oneilsh/immutables/reference/insert.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Insert an element into a priority queue — insert","text":"q `priority_queue`. element Element insert. priority Numeric scalar priority. name Optional element name.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/insert.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Insert an element into a priority queue — insert","text":"Updated `priority_queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/insert.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Insert an element into a priority queue — insert","text":"","code":"x <- priority_queue(\"a\", \"b\", priorities = c(2, 1)) x #> <priority_queue> size=2 next_seq=3 #> min_priority=1 max_priority=2  x2 <- insert(x, \"c\", priority = 1) x2 #> <priority_queue> size=3 next_seq=4 #> min_priority=1 max_priority=2 peek_min(x2) #> [1] \"b\""},{"path":"https://github.com/oneilsh/immutables/reference/is_empty.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether a priority queue is empty — is_empty","title":"Check whether a priority queue is empty — is_empty","text":"Check whether priority queue empty","code":""},{"path":"https://github.com/oneilsh/immutables/reference/is_empty.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether a priority queue is empty — is_empty","text":"","code":"is_empty(q)"},{"path":"https://github.com/oneilsh/immutables/reference/is_empty.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether a priority queue is empty — is_empty","text":"q `priority_queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/is_empty.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether a priority queue is empty — is_empty","text":"Logical scalar.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/is_empty.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check whether a priority queue is empty — is_empty","text":"","code":"x <- priority_queue() is_empty(x) #> [1] TRUE  x2 <- priority_queue(\"a\", priorities = 1) is_empty(x2) #> [1] FALSE"},{"path":"https://github.com/oneilsh/immutables/reference/length.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Sequence Length — length.flexseq","title":"Sequence Length — length.flexseq","text":"Sequence Length","code":""},{"path":"https://github.com/oneilsh/immutables/reference/length.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sequence Length — length.flexseq","text":"","code":"# S3 method for class 'flexseq' length(x)"},{"path":"https://github.com/oneilsh/immutables/reference/length.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sequence Length — length.flexseq","text":"x `flexseq`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/length.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sequence Length — length.flexseq","text":"Number elements sequence.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/length.priority_queue.html","id":null,"dir":"Reference","previous_headings":"","what":"Priority Queue Length — length.priority_queue","title":"Priority Queue Length — length.priority_queue","text":"Priority Queue Length","code":""},{"path":"https://github.com/oneilsh/immutables/reference/length.priority_queue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Priority Queue Length — length.priority_queue","text":"","code":"# S3 method for class 'priority_queue' length(x)"},{"path":"https://github.com/oneilsh/immutables/reference/length.priority_queue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Priority Queue Length — length.priority_queue","text":"x `priority_queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/length.priority_queue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Priority Queue Length — length.priority_queue","text":"Number entries.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/locate.html","id":null,"dir":"Reference","previous_headings":"","what":"Locate first predicate flip without reconstructing context trees — locate","title":"Locate first predicate flip without reconstructing context trees — locate","text":"Read-analogue `split_tree()`: finds distinguished element scan predicate flips, rebuild left/right trees.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/locate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Locate first predicate flip without reconstructing context trees — locate","text":"","code":"locate(t, predicate, monoid_name, accumulator = NULL, include_metadata = FALSE)"},{"path":"https://github.com/oneilsh/immutables/reference/locate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Locate first predicate flip without reconstructing context trees — locate","text":"t FingerTree. predicate Function accumulated measure values. monoid_name Name monoid `attr(t, \"monoids\")`. accumulator Optional starting measure (defaults monoid identity). include_metadata Logical; include left/hit/right measures index.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/locate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Locate first predicate flip without reconstructing context trees — locate","text":"`include_metadata = FALSE`: `list(found, elem)`.   `TRUE`: `list(found, elem, metadata = list(left_measure, hit_measure,   right_measure, index))`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/locate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Locate first predicate flip without reconstructing context trees — locate","text":"","code":"x <- as_flexseq(letters[1:6]) x #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\" #>   loc <- locate(x, function(v) v >= 4, \".size\") loc #> $found #> [1] TRUE #>  #> $elem #> [1] \"d\" #>   # include metadata with a custom monoid sum_m <- measure_monoid(`+`, 0, as.numeric) x2 <- as_flexseq(1:6, monoids = list(sum = sum_m)) loc2 <- locate(x2, function(v) v >= 10, \"sum\", include_metadata = TRUE) loc2 #> $found #> [1] TRUE #>  #> $elem #> [1] 4 #>  #> $metadata #> $metadata$left_measure #> [1] 6 #>  #> $metadata$hit_measure #> [1] 10 #>  #> $metadata$right_measure #> [1] 11 #>  #> $metadata$index #> [1] 4 #>  #>"},{"path":"https://github.com/oneilsh/immutables/reference/measure_monoid.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Measure Monoid Specification — measure_monoid","title":"Construct a Measure Monoid Specification — measure_monoid","text":"Construct Measure Monoid Specification","code":""},{"path":"https://github.com/oneilsh/immutables/reference/measure_monoid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Measure Monoid Specification — measure_monoid","text":"","code":"measure_monoid(f, i, measure)"},{"path":"https://github.com/oneilsh/immutables/reference/measure_monoid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Measure Monoid Specification — measure_monoid","text":"f Associative binary function measure values. Identity measure value `f`. measure Function mapping raw element measure value.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/measure_monoid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Measure Monoid Specification — measure_monoid","text":"object class `measure_monoid`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/measure_monoid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a Measure Monoid Specification — measure_monoid","text":"","code":"sum_m <- measure_monoid(`+`, 0, as.numeric) x <- as_flexseq(1:5) fold_left(x, sum_m) #> [1] 15  # create a second monoid and add it to a sequence nchar_sum <- measure_monoid(`+`, 0, function(el) nchar(as.character(el))) x2 <- as_flexseq(letters[1:3]) x3 <- add_monoids(x2, list(nchar_sum = nchar_sum)) attr(x3, \"measures\")$nchar_sum #> [1] 3"},{"path":"https://github.com/oneilsh/immutables/reference/peek_max.html","id":null,"dir":"Reference","previous_headings":"","what":"Peek maximum-priority element — peek_max","title":"Peek maximum-priority element — peek_max","text":"Peek maximum-priority element","code":""},{"path":"https://github.com/oneilsh/immutables/reference/peek_max.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Peek maximum-priority element — peek_max","text":"","code":"peek_max(q)"},{"path":"https://github.com/oneilsh/immutables/reference/peek_max.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Peek maximum-priority element — peek_max","text":"q `priority_queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/peek_max.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Peek maximum-priority element — peek_max","text":"Element maximum priority (stable ties).","code":""},{"path":"https://github.com/oneilsh/immutables/reference/peek_max.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Peek maximum-priority element — peek_max","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 3, 3)) x #> <priority_queue> size=3 next_seq=4 #> min_priority=2 max_priority=3 peek_max(x) #> [1] \"b\""},{"path":"https://github.com/oneilsh/immutables/reference/peek_min.html","id":null,"dir":"Reference","previous_headings":"","what":"Peek minimum-priority element — peek_min","title":"Peek minimum-priority element — peek_min","text":"Peek minimum-priority element","code":""},{"path":"https://github.com/oneilsh/immutables/reference/peek_min.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Peek minimum-priority element — peek_min","text":"","code":"peek_min(q)"},{"path":"https://github.com/oneilsh/immutables/reference/peek_min.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Peek minimum-priority element — peek_min","text":"q `priority_queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/peek_min.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Peek minimum-priority element — peek_min","text":"Element minimum priority (stable ties).","code":""},{"path":"https://github.com/oneilsh/immutables/reference/peek_min.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Peek minimum-priority element — peek_min","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 1, 1)) x #> <priority_queue> size=3 next_seq=4 #> min_priority=1 max_priority=2 peek_min(x) #> [1] \"b\""},{"path":"https://github.com/oneilsh/immutables/reference/plot.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a Sequence Tree — plot.flexseq","title":"Plot a Sequence Tree — plot.flexseq","text":"Plot Sequence Tree","code":""},{"path":"https://github.com/oneilsh/immutables/reference/plot.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a Sequence Tree — plot.flexseq","text":"","code":"# S3 method for class 'flexseq' plot(x, ...)"},{"path":"https://github.com/oneilsh/immutables/reference/plot.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a Sequence Tree — plot.flexseq","text":"x `flexseq`. ... Passed internal tree plotting routine.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/plot_tree.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a finger tree with igraph — plot_tree","title":"Plot a finger tree with igraph — plot_tree","text":"Plot finger tree igraph","code":""},{"path":"https://github.com/oneilsh/immutables/reference/plot_tree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a finger tree with igraph — plot_tree","text":"","code":"plot_tree(   t1,   vertex.size = 4,   edge.width = 1,   label_edges = FALSE,   title = NULL,   node_label = c(\"value\", \"type\", \"both\", \"none\"),   ... )"},{"path":"https://github.com/oneilsh/immutables/reference/plot_tree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a finger tree with igraph — plot_tree","text":"t1 FingerTree. vertex.size Vertex size passed `igraph::plot.igraph`. edge.width Edge width passed `igraph::plot.igraph`. label_edges Whether draw edge labels. title Optional plot title. node_label Node label mode: value, type, , none. ... Additional arguments passed `igraph::plot.igraph`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/plot_tree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a finger tree with igraph — plot_tree","text":"","code":"if (FALSE) { # \\dontrun{ t <- as_flexseq(letters[1:8]) plot_tree(t, title = \"Finger tree\")  t2 <- as_flexseq(letters[1:12]) plot_tree(t2, node_label = \"both\", vertex.size = 8) } # }"},{"path":"https://github.com/oneilsh/immutables/reference/prepend.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepend an element — prepend","title":"Prepend an element — prepend","text":"Prepend element","code":""},{"path":"https://github.com/oneilsh/immutables/reference/prepend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepend an element — prepend","text":"","code":"prepend(t, x)"},{"path":"https://github.com/oneilsh/immutables/reference/prepend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepend an element — prepend","text":"t FingerTree. x Element prepend.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/prepend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepend an element — prepend","text":"Updated tree.   `t` name-indexed, prepending unnamed elements invalid.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/prepend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepend an element — prepend","text":"","code":"x <- as_flexseq(letters[2:5]) x #> FingerTree <size=4, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"b\" #>  #> [[2]] #> [1] \"c\" #>  #> [[3]] #> [1] \"d\" #>  #> [[4]] #> [1] \"e\" #>   x2 <- prepend(x, \"a\") x2 #> FingerTree <size=5, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>   # prepending to a named sequence requires a named element x3 <- as_flexseq(list(two = 2, three = 3)) new_el <- 1 names(new_el) <- \"one\" x4 <- prepend(x3, new_el) x4 #> FingerTree <size=3, named=yes> #>   monoids: none #>  #> $one #> one  #>   1  #>  #> $two #> [1] 2 #>  #> $three #> [1] 3 #>"},{"path":"https://github.com/oneilsh/immutables/reference/print.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a compact summary of a finger tree — print.FingerTree","title":"Print a compact summary of a finger tree — print.FingerTree","text":"Print compact summary finger tree","code":""},{"path":"https://github.com/oneilsh/immutables/reference/print.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a compact summary of a finger tree — print.FingerTree","text":"","code":"# S3 method for class 'FingerTree' print(x, max_elements = 6L, show_internal_monoids = FALSE, ...)  # S3 method for class 'Deep' print(x, ...)  # S3 method for class 'Single' print(x, ...)  # S3 method for class 'Empty' print(x, ...)"},{"path":"https://github.com/oneilsh/immutables/reference/print.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a compact summary of a finger tree — print.FingerTree","text":"x FingerTree. max_elements Maximum number elements show list-style preview. Default `6`. show_internal_monoids Logical; show internal monoids (`.size`, `.named_count`). Default `FALSE`. ... Passed `print()` preview elements.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/print.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print a compact summary of a finger tree — print.FingerTree","text":"`x`, invisibly.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/print.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print a compact summary of a finger tree — print.FingerTree","text":"","code":"x <- as_flexseq(letters[1:10]) x #> FingerTree <size=10, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\" #>  #> ... and 4 more elements not shown  x2 <- as_flexseq(setNames(as.list(1:5), paste0(\"k\", 1:5))) x2 #> FingerTree <size=5, named=yes> #>   monoids: none #>  #> $k1 #> [1] 1 #>  #> $k2 #> [1] 2 #>  #> $k3 #> [1] 3 #>  #> $k4 #> [1] 4 #>  #> $k5 #> [1] 5 #>"},{"path":"https://github.com/oneilsh/immutables/reference/print.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a flexseq — print.flexseq","title":"Print a flexseq — print.flexseq","text":"Print flexseq","code":""},{"path":"https://github.com/oneilsh/immutables/reference/print.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a flexseq — print.flexseq","text":"","code":"# S3 method for class 'flexseq' print(x, ...)"},{"path":"https://github.com/oneilsh/immutables/reference/print.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a flexseq — print.flexseq","text":"x `flexseq`. ... Passed `print.FingerTree`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/print.priority_queue.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a Priority Queue — print.priority_queue","title":"Print a Priority Queue — print.priority_queue","text":"Print Priority Queue","code":""},{"path":"https://github.com/oneilsh/immutables/reference/print.priority_queue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a Priority Queue — print.priority_queue","text":"","code":"# S3 method for class 'priority_queue' print(x, ...)"},{"path":"https://github.com/oneilsh/immutables/reference/print.priority_queue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a Priority Queue — print.priority_queue","text":"x `priority_queue`. ... Unused.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/print.priority_queue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print a Priority Queue — print.priority_queue","text":"`x` invisibly.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/print.priority_queue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print a Priority Queue — print.priority_queue","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 1, 3)) x #> <priority_queue> size=3 next_seq=4 #> min_priority=1 max_priority=3"},{"path":"https://github.com/oneilsh/immutables/reference/priority_queue.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Priority Queue — priority_queue","title":"Construct a Priority Queue — priority_queue","text":"Construct Priority Queue","code":""},{"path":"https://github.com/oneilsh/immutables/reference/priority_queue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Priority Queue — priority_queue","text":"","code":"priority_queue(..., priorities = NULL, names = NULL, monoids = NULL)"},{"path":"https://github.com/oneilsh/immutables/reference/priority_queue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Priority Queue — priority_queue","text":"... Elements enqueue. priorities Numeric priorities matching `...`. names Optional element names. monoids Optional additional named list `measure_monoid` objects.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/priority_queue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Priority Queue — priority_queue","text":"`priority_queue`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/priority_queue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a Priority Queue — priority_queue","text":"","code":"x <- priority_queue(\"a\", \"b\", \"c\", priorities = c(2, 1, 2)) x #> <priority_queue> size=3 next_seq=4 #> min_priority=1 max_priority=2 peek_min(x) #> [1] \"b\""},{"path":"https://github.com/oneilsh/immutables/reference/reduce_left.html","id":null,"dir":"Reference","previous_headings":"","what":"Reduce from the left — reduce_left","title":"Reduce from the left — reduce_left","text":"Reduce left","code":""},{"path":"https://github.com/oneilsh/immutables/reference/reduce_left.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reduce from the left — reduce_left","text":"","code":"reduce_left(t, monoid)"},{"path":"https://github.com/oneilsh/immutables/reference/reduce_left.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reduce from the left — reduce_left","text":"t FingerTree. monoid `MeasureMonoid` object.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/reduce_left.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reduce from the left — reduce_left","text":"Reduced value.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/reduce_left.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reduce from the left — reduce_left","text":"","code":"t <- tree_from(1:5) sum_m <- MeasureMonoid(`+`, 0, as.numeric) reduce_left(t, sum_m) #> [1] 15  cat_m <- MeasureMonoid(paste0, \"\", as.character) reduce_left(tree_from(letters[1:4]), cat_m) #> [1] \"abcd\""},{"path":"https://github.com/oneilsh/immutables/reference/reduce_right.html","id":null,"dir":"Reference","previous_headings":"","what":"Reduce from the right — reduce_right","title":"Reduce from the right — reduce_right","text":"Reduce right","code":""},{"path":"https://github.com/oneilsh/immutables/reference/reduce_right.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reduce from the right — reduce_right","text":"","code":"reduce_right(t, monoid)"},{"path":"https://github.com/oneilsh/immutables/reference/reduce_right.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reduce from the right — reduce_right","text":"t FingerTree. monoid `MeasureMonoid` object.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/reduce_right.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reduce from the right — reduce_right","text":"Reduced value.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/reduce_right.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reduce from the right — reduce_right","text":"","code":"t <- tree_from(1:5) sum_m <- MeasureMonoid(`+`, 0, as.numeric) reduce_right(t, sum_m) #> [1] 15  cat_m <- MeasureMonoid(paste0, \"\", as.character) reduce_right(tree_from(letters[1:4]), cat_m) #> [1] \"abcd\""},{"path":"https://github.com/oneilsh/immutables/reference/split.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Split a flexseq into left and right parts — split.flexseq","title":"Split a flexseq into left and right parts — split.flexseq","text":"Splits sequence point predicate first becomes TRUE accumulated monoid measures.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/split.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split a flexseq into left and right parts — split.flexseq","text":"","code":"# S3 method for class 'flexseq' split(x, f, ...)"},{"path":"https://github.com/oneilsh/immutables/reference/split.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split a flexseq into left and right parts — split.flexseq","text":"x `flexseq`. f Predicate function accumulated measure values. ... Additional arguments. first positional argument `monoid_name` (character scalar naming monoid scan).","code":""},{"path":"https://github.com/oneilsh/immutables/reference/split.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split a flexseq into left and right parts — split.flexseq","text":"list `left` `right` flexseq objects.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/split.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split a flexseq into left and right parts — split.flexseq","text":"","code":"x <- as_flexseq(letters[1:6]) x #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\" #>   s <- split(x, function(v) v >= 4, \".size\") s$left #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  s$right #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"d\" #>  #> [[2]] #> [1] \"e\" #>  #> [[3]] #> [1] \"f\" #>"},{"path":"https://github.com/oneilsh/immutables/reference/split.html","id":null,"dir":"Reference","previous_headings":"","what":"Split tree into left and right parts — split","title":"Split tree into left and right parts — split","text":"Split tree left right parts","code":""},{"path":"https://github.com/oneilsh/immutables/reference/split.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split tree into left and right parts — split","text":"","code":"split(t, predicate, monoid_name)"},{"path":"https://github.com/oneilsh/immutables/reference/split.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split tree into left and right parts — split","text":"t FingerTree. predicate Function measure values. monoid_name Name monoid `attr(t, \"monoids\")`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/split.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split tree into left and right parts — split","text":"list `left` `right`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/split.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split tree into left and right parts — split","text":"","code":"t <- tree_from(letters[1:6]) #> Error in tree_from(letters[1:6]): could not find function \"tree_from\" s <- split(t, function(v) v >= 4, \".size\") #> Error in (structure(function (t, required) {    ms <- attr(t, \"monoids\", exact = TRUE)    if (required && is.null(ms)) {        stop(\"Tree has no monoids attribute.\")    }    if (is.null(ms)) {        return(NULL)    }    if (isTRUE(getOption(\"immutables.validate_monoids\", FALSE))) {        return(ensure_size_monoids(ms))    }    ms}, topenv = \"<environment: namespace:immutables> \", name = \"resolve_tree_monoids\"))(t = function (x) UseMethod(\"t\"), required = TRUE): Tree has no monoids attribute. attr(s$left, \"measures\")$.size #> Error: object 's' not found attr(s$right, \"measures\")$.size #> Error: object 's' not found  cat_m <- MeasureMonoid(paste0, \"\", as.character) #> Error in MeasureMonoid(paste0, \"\", as.character): could not find function \"MeasureMonoid\" fold_left(s$left, cat_m) #> Error: object 's' not found fold_left(s$right, cat_m) #> Error: object 's' not found"},{"path":"https://github.com/oneilsh/immutables/reference/split_tree.html","id":null,"dir":"Reference","previous_headings":"","what":"Split tree around first predicate flip — split_tree","title":"Split tree around first predicate flip — split_tree","text":"Split tree around first predicate flip","code":""},{"path":"https://github.com/oneilsh/immutables/reference/split_tree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split tree around first predicate flip — split_tree","text":"","code":"split_tree(t, predicate, monoid_name, accumulator = NULL)"},{"path":"https://github.com/oneilsh/immutables/reference/split_tree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split tree around first predicate flip — split_tree","text":"t FingerTree. predicate Function measure values. monoid_name Name monoid `attr(t, \"monoids\")`. accumulator Optional starting measure (defaults monoid identity).","code":""},{"path":"https://github.com/oneilsh/immutables/reference/split_tree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split tree around first predicate flip — split_tree","text":"list `left`, `elem`, `right`.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/split_tree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split tree around first predicate flip — split_tree","text":"","code":"x <- as_flexseq(letters[1:6]) x #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\" #>   s <- split_tree(x, function(v) v >= 4, \".size\") s$elem #> [1] \"d\" s$left #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  s$right #> FingerTree <size=2, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"e\" #>  #> [[2]] #> [1] \"f\" #>"},{"path":"https://github.com/oneilsh/immutables/reference/sub-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset a finger tree by position or element name — [.FingerTree","title":"Subset a finger tree by position or element name — [.FingerTree","text":"Subset finger tree position element name","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset a finger tree by position or element name — [.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x[i, ...]"},{"path":"https://github.com/oneilsh/immutables/reference/sub-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset a finger tree by position or element name — [.FingerTree","text":"x FingerTree. Positive integer indices, character element names, logical mask. ... Unused.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset a finger tree by position or element name — [.FingerTree","text":"new FingerTree containing selected elements query order.   character indexing, missing names represented `NULL` elements.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Subset a finger tree by position or element name — [.FingerTree","text":"","code":"t <- tree_from(letters[1:6]) #> Error in tree_from(letters[1:6]): could not find function \"tree_from\" s <- t[c(2, 4, 6)] #> Error in t[c(2, 4, 6)]: object of type 'closure' is not subsettable cat_m <- MeasureMonoid(paste0, \"\", as.character) #> Error in MeasureMonoid(paste0, \"\", as.character): could not find function \"MeasureMonoid\" fold_left(s, cat_m) #> Error: object 's' not found  # Empty index returns empty tree attr(t[integer(0)], \"measures\")$.size #> Error in t[integer(0)]: object of type 'closure' is not subsettable  # Character indexing by element names tn <- tree_from(setNames(as.list(letters[1:4]), c(\"w\", \"x\", \"y\", \"z\"))) #> Error in tree_from(setNames(as.list(letters[1:4]), c(\"w\", \"x\", \"y\", \"z\"))): could not find function \"tree_from\" out <- tn[c(\"y\", \"missing\", \"w\")] #> Error: object 'tn' not found fold_left(out, MeasureMonoid(paste0, \"\", function(el) if(is.null(el)) \"_\" else el)) #> Error: object 'out' not found  # Logical indexing with recycling t[c(TRUE, FALSE)] #> Error in t[c(TRUE, FALSE)]: object of type 'closure' is not subsettable"},{"path":"https://github.com/oneilsh/immutables/reference/sub-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset a flexseq by position or element name — [.flexseq","title":"Subset a flexseq by position or element name — [.flexseq","text":"Subset flexseq position element name","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset a flexseq by position or element name — [.flexseq","text":"","code":"# S3 method for class 'flexseq' x[i, ...]"},{"path":"https://github.com/oneilsh/immutables/reference/sub-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset a flexseq by position or element name — [.flexseq","text":"x `flexseq`. Positive integer indices, character element names, logical mask. ... Unused.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset a flexseq by position or element name — [.flexseq","text":"new `flexseq` containing selected elements query order.   character indexing, missing names represented `NULL` elements.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Subset a flexseq by position or element name — [.flexseq","text":"","code":"x <- as_flexseq(letters[1:6]) x #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"b\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>  #> [[5]] #> [1] \"e\" #>  #> [[6]] #> [1] \"f\" #>   x2 <- x[c(2, 4, 6)] x2 #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"b\" #>  #> [[2]] #> [1] \"d\" #>  #> [[3]] #> [1] \"f\" #>   # named lookups return NULL for missing names x3 <- as_flexseq(setNames(as.list(letters[1:4]), c(\"w\", \"x\", \"y\", \"z\"))) x4 <- x3[c(\"y\", \"missing\", \"w\")] x4 #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"c\" #>  #> [[2]] #> NULL #>  #> [[3]] #> [1] \"a\" #>   # logical indexing supports recycling x[c(TRUE, FALSE)] #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"c\" #>  #> [[3]] #> [1] \"e\" #>"},{"path":"https://github.com/oneilsh/immutables/reference/sub-sub-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract one element by position or unique name — [[.FingerTree","title":"Extract one element by position or unique name — [[.FingerTree","text":"Extract one element position unique name","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-sub-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract one element by position or unique name — [[.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x[[i, ...]]"},{"path":"https://github.com/oneilsh/immutables/reference/sub-sub-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract one element by position or unique name — [[.FingerTree","text":"x FingerTree. Positive scalar integer index, scalar character element name. ... Unused.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-sub-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract one element by position or unique name — [[.FingerTree","text":"extracted element (internal name metadata removed).","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-sub-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract one element by position or unique name — [[.FingerTree","text":"","code":"t <- tree_from(letters[1:5]) #> Error in tree_from(letters[1:5]): could not find function \"tree_from\" t[[3]] #> Error in t[[3]]: object of type 'closure' is not subsettable  tn <- tree_from(setNames(as.list(letters[1:3]), c(\"a1\", \"a2\", \"a3\"))) #> Error in tree_from(setNames(as.list(letters[1:3]), c(\"a1\", \"a2\", \"a3\"))): could not find function \"tree_from\" tn[[\"a2\"]] #> Error: object 'tn' not found"},{"path":"https://github.com/oneilsh/immutables/reference/sub-sub-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract one element by position or unique name — [[.flexseq","title":"Extract one element by position or unique name — [[.flexseq","text":"Extract one element position unique name","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-sub-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract one element by position or unique name — [[.flexseq","text":"","code":"# S3 method for class 'flexseq' x[[i, ...]]"},{"path":"https://github.com/oneilsh/immutables/reference/sub-sub-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract one element by position or unique name — [[.flexseq","text":"x `flexseq`. Positive scalar integer index, scalar character element name. ... Unused.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-sub-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract one element by position or unique name — [[.flexseq","text":"extracted element (internal name metadata removed).","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-sub-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract one element by position or unique name — [[.flexseq","text":"","code":"x <- as_flexseq(letters[1:5]) x[[3]] #> [1] \"c\"  x2 <- as_flexseq(setNames(as.list(letters[1:3]), c(\"a1\", \"a2\", \"a3\"))) x2[[\"a2\"]] #> [1] \"b\""},{"path":"https://github.com/oneilsh/immutables/reference/sub-subset-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace one element by position or unique name — [[<-.FingerTree","title":"Replace one element by position or unique name — [[<-.FingerTree","text":"Replace one element position unique name","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-subset-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace one element by position or unique name — [[<-.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x[[i]] <- value"},{"path":"https://github.com/oneilsh/immutables/reference/sub-subset-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace one element by position or unique name — [[<-.FingerTree","text":"x FingerTree. Positive scalar integer index, scalar character element name. value Replacement element.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-subset-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace one element by position or unique name — [[<-.FingerTree","text":"new FingerTree one element replaced.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-subset-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace one element by position or unique name — [[<-.FingerTree","text":"","code":"t <- tree_from(letters[1:4]) #> Error in tree_from(letters[1:4]): could not find function \"tree_from\" t[[2]] <- \"ZZ\" #> Error in t[[2]] <- \"ZZ\": object of type 'closure' is not subsettable cat_m <- MeasureMonoid(paste0, \"\", as.character) #> Error in MeasureMonoid(paste0, \"\", as.character): could not find function \"MeasureMonoid\" fold_left(t, cat_m) #> Error in UseMethod(\"fold_left\"): no applicable method for 'fold_left' applied to an object of class \"function\"  tn <- tree_from(setNames(as.list(1:3), c(\"x\", \"y\", \"z\"))) #> Error in tree_from(setNames(as.list(1:3), c(\"x\", \"y\", \"z\"))): could not find function \"tree_from\" tn[[\"y\"]] <- 99 #> Error: object 'tn' not found  # Assigning NULL removes an element (by index or name) t <- tree_from(letters[1:4]) #> Error in tree_from(letters[1:4]): could not find function \"tree_from\" t[[2]] <- NULL #> Error in t[[2]] <- NULL: object of type 'closure' is not subsettable tn <- tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))) #> Error in tree_from(setNames(as.list(1:3), c(\"a\", \"b\", \"c\"))): could not find function \"tree_from\" tn[[\"b\"]] <- NULL #> Error: object 'tn' not found"},{"path":"https://github.com/oneilsh/immutables/reference/sub-subset-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace one element by position or unique name — [[<-.flexseq","title":"Replace one element by position or unique name — [[<-.flexseq","text":"Replace one element position unique name","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-subset-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace one element by position or unique name — [[<-.flexseq","text":"","code":"# S3 method for class 'flexseq' x[[i]] <- value"},{"path":"https://github.com/oneilsh/immutables/reference/sub-subset-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace one element by position or unique name — [[<-.flexseq","text":"x `flexseq`. Positive scalar integer index, scalar character element name. value Replacement element.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-subset-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace one element by position or unique name — [[<-.flexseq","text":"new `flexseq` one element replaced.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/sub-subset-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace one element by position or unique name — [[<-.flexseq","text":"","code":"x <- as_flexseq(letters[1:4]) x2 <- x x2[[2]] <- \"ZZ\" x2 #> FingerTree <size=4, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"ZZ\" #>  #> [[3]] #> [1] \"c\" #>  #> [[4]] #> [1] \"d\" #>   x3 <- as_flexseq(setNames(as.list(1:3), c(\"x\", \"y\", \"z\"))) x3[[\"y\"]] <- 99 x3 #> FingerTree <size=3, named=yes> #>   monoids: none #>  #> $x #> [1] 1 #>  #> $y #> [1] 99 #>  #> $z #> [1] 3 #>   # assigning NULL removes one element x4 <- as_flexseq(letters[1:4]) x4[[2]] <- NULL x4 #> FingerTree <size=3, named=no> #>   monoids: none #>  #> [[1]] #> [1] \"a\" #>  #> [[2]] #> [1] \"c\" #>  #> [[3]] #> [1] \"d\" #>"},{"path":"https://github.com/oneilsh/immutables/reference/subset-.FingerTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace selected elements by position or name — [<-.FingerTree","title":"Replace selected elements by position or name — [<-.FingerTree","text":"Replace selected elements position name","code":""},{"path":"https://github.com/oneilsh/immutables/reference/subset-.FingerTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace selected elements by position or name — [<-.FingerTree","text":"","code":"# S3 method for class 'FingerTree' x[i] <- value"},{"path":"https://github.com/oneilsh/immutables/reference/subset-.FingerTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace selected elements by position or name — [<-.FingerTree","text":"x FingerTree. Positive integer indices, character names, logical mask. value Replacement values; must exactly length ``.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/subset-.FingerTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace selected elements by position or name — [<-.FingerTree","text":"new FingerTree selected elements replaced.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/subset-.FingerTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace selected elements by position or name — [<-.FingerTree","text":"","code":"t <- tree_from(1:6) #> Error in tree_from(1:6): could not find function \"tree_from\" t[c(2, 5)] <- list(20, 50) #> Error in t[c(2, 5)] <- list(20, 50): object of type 'closure' is not subsettable sum_m <- MeasureMonoid(`+`, 0, as.numeric) #> Error in MeasureMonoid(`+`, 0, as.numeric): could not find function \"MeasureMonoid\" fold_left(t, sum_m) #> Error in UseMethod(\"fold_left\"): no applicable method for 'fold_left' applied to an object of class \"function\"  # Replacement length must match try(t[c(1, 2)] <- list(999)) #> Error in t[c(1, 2)] <- list(999) :  #>   object of type 'closure' is not subsettable  # Character replacement by element names (missing names error) tn <- tree_from(setNames(as.list(1:4), c(\"a\", \"b\", \"c\", \"d\"))) #> Error in tree_from(setNames(as.list(1:4), c(\"a\", \"b\", \"c\", \"d\"))): could not find function \"tree_from\" tn[c(\"d\", \"a\")] <- list(40, 10) #> Error: object 'tn' not found  # Logical replacement with recycling t[c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)] <- list(1) #> Error in t[c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)] <- list(1): object of type 'closure' is not subsettable"},{"path":"https://github.com/oneilsh/immutables/reference/subset-.flexseq.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace selected elements by position or name — [<-.flexseq","title":"Replace selected elements by position or name — [<-.flexseq","text":"Replace selected elements position name","code":""},{"path":"https://github.com/oneilsh/immutables/reference/subset-.flexseq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace selected elements by position or name — [<-.flexseq","text":"","code":"# S3 method for class 'flexseq' x[i] <- value"},{"path":"https://github.com/oneilsh/immutables/reference/subset-.flexseq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace selected elements by position or name — [<-.flexseq","text":"x `flexseq`. Positive integer indices, character names, logical mask. value Replacement values; must exactly length ``.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/subset-.flexseq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace selected elements by position or name — [<-.flexseq","text":"new `flexseq` selected elements replaced.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/subset-.flexseq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace selected elements by position or name — [<-.flexseq","text":"","code":"x <- as_flexseq(1:6) x #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 5 #>  #> [[6]] #> [1] 6 #>   x2 <- x x2[c(2, 5)] <- list(20, 50) x2 #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 20 #>  #> [[3]] #> [1] 3 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 50 #>  #> [[6]] #> [1] 6 #>   # character replacement uses element names x3 <- as_flexseq(setNames(as.list(1:4), c(\"a\", \"b\", \"c\", \"d\"))) x3[c(\"d\", \"a\")] <- list(40, 10) x3 #> FingerTree <size=4, named=yes> #>   monoids: none #>  #> $a #> [1] 10 #>  #> $b #> [1] 2 #>  #> $c #> [1] 3 #>  #> $d #> [1] 40 #>   # logical replacement supports recycling x4 <- x x4[c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)] <- list(1) x4 #> FingerTree <size=6, named=no> #>   monoids: none #>  #> [[1]] #> [1] 1 #>  #> [[2]] #> [1] 2 #>  #> [[3]] #> [1] 1 #>  #> [[4]] #> [1] 4 #>  #> [[5]] #> [1] 1 #>  #> [[6]] #> [1] 6 #>"},{"path":"https://github.com/oneilsh/immutables/reference/tree_from.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a Structural Tree from a Vector or List — tree_from","title":"Build a Structural Tree from a Vector or List — tree_from","text":"Build Structural Tree Vector List","code":""},{"path":"https://github.com/oneilsh/immutables/reference/tree_from.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a Structural Tree from a Vector or List — tree_from","text":"","code":"tree_from(x, monoids = NULL)"},{"path":"https://github.com/oneilsh/immutables/reference/tree_from.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a Structural Tree from a Vector or List — tree_from","text":"x Elements insert. monoids Optional named list `measure_monoid` objects.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/tree_from.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a Structural Tree from a Vector or List — tree_from","text":"finger tree cached measures monoids.   `x` names, used name-based indexing must   complete (missing/empty names) unique.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/tree_from.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build a Structural Tree from a Vector or List — tree_from","text":"","code":"if (FALSE) { # \\dontrun{ t <- tree_from(letters[1:4]) t[[2]] } # }"},{"path":"https://github.com/oneilsh/immutables/reference/validate_name_state.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate name-state invariants only (debug/test utility) — validate_name_state","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"Checks trees either fully unnamed fully named unique, non-empty names.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/validate_name_state.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"","code":"validate_name_state(t)"},{"path":"https://github.com/oneilsh/immutables/reference/validate_name_state.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"t FingerTree.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/validate_name_state.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"`TRUE` invisibly; errors name invariants violated.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/validate_name_state.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"Intended debugging tests, hot runtime paths.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/validate_name_state.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate name-state invariants only (debug/test utility) — validate_name_state","text":"","code":"x <- as_flexseq(setNames(as.list(letters[1:4]), letters[1:4])) validate_name_state(x)"},{"path":"https://github.com/oneilsh/immutables/reference/validate_tree.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate full tree invariants (debug/test utility) — validate_tree","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"Performs expensive full-tree auditing : - structural attributes (`monoids`/`measures`) consistency - global name-state invariants","code":""},{"path":"https://github.com/oneilsh/immutables/reference/validate_tree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"","code":"validate_tree(t)"},{"path":"https://github.com/oneilsh/immutables/reference/validate_tree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"t FingerTree.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/validate_tree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"`TRUE` invisibly; errors invariant violations found.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/validate_tree.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"Intended debugging tests, hot runtime paths.","code":""},{"path":"https://github.com/oneilsh/immutables/reference/validate_tree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate full tree invariants (debug/test utility) — validate_tree","text":"","code":"x <- as_flexseq(letters[1:10]) validate_tree(x)"}]
