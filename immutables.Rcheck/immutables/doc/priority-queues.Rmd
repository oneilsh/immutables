---
title: "Priority Queues"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Priority Queues}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
library(immutables)
```

## Creating a priority queue

```{r}
q <- priority_queue("task_a", "task_b", "task_c", priorities = c(3, 1, 2))
q
```

## Peeking at extremes

```{r}
peek_min(q)
peek_max(q)
```

## Extracting elements

`extract_min()` and `extract_max()` return both the element and the updated
queue, since priority queues are persistent.

```{r}
result <- extract_min(q)
result$element
result$priority
result$queue
```

## Inserting elements

```{r}
q2 <- insert(q, "task_d", priority = 0)
peek_min(q2)
```

## Persistence

The original queue is unchanged after extraction or insertion:

```{r}
peek_min(q)
is_empty(q)
```
