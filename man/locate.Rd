% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/locate.R
\name{locate}
\alias{locate}
\title{Locate first predicate flip without reconstructing context trees}
\usage{
locate(t, predicate, monoid_name, accumulator = NULL, include_metadata = FALSE)
}
\arguments{
\item{t}{FingerTree.}

\item{predicate}{Function on accumulated measure values.}

\item{monoid_name}{Name of monoid from `attr(t, "monoids")`.}

\item{accumulator}{Optional starting measure (defaults to monoid identity).}

\item{include_metadata}{Logical; include left/hit/right measures and index.}
}
\value{
If `include_metadata = FALSE`: `list(found, elem)`.
  If `TRUE`: `list(found, elem, metadata = list(left_measure, hit_measure,
  right_measure, index))`.
}
\description{
Read-only analogue of `split_tree()`: finds the distinguished element where
the scan predicate flips, but does not rebuild left/right trees.
}
\examples{
t <- tree_from(letters[1:6])
locate(t, function(v) v >= 4, ".size")

# Metadata-rich locate for custom monoid
sum_m <- MeasureMonoid(`+`, 0, as.numeric)
t2 <- tree_from(1:6, monoids = list(sum = sum_m))
locate(t2, function(v) v >= 10, "sum", include_metadata = TRUE)
}
