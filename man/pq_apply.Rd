% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/40-priority_queue-core.R
\name{pq_apply}
\alias{pq_apply}
\title{Apply a Function Over Priority Queue Entries}
\usage{
pq_apply(q, f, reset_ties = TRUE, ...)
}
\arguments{
\item{q}{A `priority_queue`.}

\item{f}{Callback called as `f(item, priority, seq_id, name, ...)`.
It must return a named list using any subset of: `item`, `priority`,
`name`. Missing fields inherit original values.}

\item{reset_ties}{Logical; if `TRUE`, refreshes tie-break `seq_id` by
current order. If `FALSE`, preserves existing `seq_id` values.}

\item{...}{Additional arguments passed to `f`.}
}
\value{
A rebuilt `priority_queue`.
}
\description{
Applies a per-entry transform and rebuilds a `priority_queue`.
}
\examples{
q <- priority_queue("a", "bb", "ccc", priorities = c(1, 3, 2))
q2 <- pq_apply(q, function(item, priority, seq_id, name) {
  list(item = toupper(item))
})
peek_min(q2)

q3 <- pq_apply(q, function(item, priority, seq_id, name) {
  list(priority = priority + nchar(item))
})
peek_max(q3)
}
